(()=>{"use strict";var e={134:function(e,t,a){a(1);var s,n,r,i,o=a(2),d=a(116),c=a(117),l=a(118),h=a(119),u=a(120),p=a(121),g=a(122),v=a(123),m=a(126);function f(e){return e.reduce((e,t)=>e+t,0)}var I=a(127),y=a(129);class Y extends m.wG{}class w{#e=o.wk1(-1);get owner(){return o.JtY(this.#e)}set owner(e){o.hZp(this.#e,e,!0)}}class J{isMe;ownerName=""}class b extends m.Nd{#t=o.wk1(o.BXG([]));get playerInfo(){return o.JtY(this.#t)}set playerInfo(e){o.hZp(this.#t,e,!0)}#a=o.wk1(0);get turnIndex(){return o.JtY(this.#a)}set turnIndex(e){o.hZp(this.#a,e,!0)}#s=o.wk1(o.BXG([]));get playerDiscInfo(){return o.JtY(this.#s)}set playerDiscInfo(e){o.hZp(this.#s,e,!0)}discIndex=0;#n=o.unG(()=>this.playing&&this.playerIsMe(this.playerInfo[this.turnIndex]));get canMove(){return o.JtY(this.#n)}set canMove(e){o.hZp(this.#n,e)}formatPlayerName(e,t){return e?(0,I.M0)(this.clients[e.owner],e.owner):`<unknown${void 0===t?"":" pn#"+t}>`}playerIsMe(e){return e?.owner===this.localClient.cn}processWelcomeGame(e){super.processWelcomeGame(e),this.processPlayerInfos(e),this.processDiscInfos(e),this.processRoundInfo(e)}processPlayerInfos(e){let t=[];for(let a=0;a<=this.clients.length;a++){let a=e.getCN();if(a<0)break;let s=new this.PlayerInfoType;s.owner=a,this.processPlayerInfo(e,s),t.push(s)}if((this.playerInfo=t).length){if(this.turnIndex=e.getInt(),this.turnIndex<0||this.turnIndex>=t.length)throw Error("bad turnIndex")}else this.turnIndex=0}processDiscInfos(e){let t=[];for(let a=0;a<=this.clients.length;a++){let a=e.getString(20);if(!a)break;let s=e.getCN(),n=new this.PlayerDiscType;n.ownerName=`${a} (${s})`,this.processDiscInfo(e,n),t.push(n)}if(this.playerDiscInfo=t,this.discIndex=e.getInt(),this.discIndex<0||this.discIndex>this.playerDiscInfo.length)throw Error("bad discIndex")}processRoundStart(e){super.processRoundStart(e);let t=[];for(let a=0;a<=this.clients.length;a++){let a=e.getCN();if(a<0)break;let s=new this.PlayerInfoType;s.owner=a,t.push(s)}this.playerInfo=t,this.playerDiscInfo=[],this.turnIndex=0,this.discIndex=0,this.processRoundStartInfo(e)}processEliminateBase(e,t){let a=e.getInt(),s=this.playerInfo[a];if(!s)throw Error("invalid eliminate pn "+a);let n=new this.PlayerDiscType,r=this.clients[s.owner];if(!r)throw Error(`invalid owner ${s.owner} of pn ${a}`);n.ownerName=(0,I.M0)(r,s.owner),n.isMe=r===this.localClient;let i=this.eliminatePlayer(e,n,a,s,r,t);this.playerInfo.splice(a,1),this.playerDiscInfo.splice(this.discIndex,0,n),i&&this.discIndex++}processEliminate(e){this.processEliminateBase(e,!1)}processEliminateEarly(e){this.processEliminateBase(e,!0)}nextTurn(){++this.turnIndex==this.playerInfo.length&&(this.turnIndex=0)}}let x=[["optTurnTime","i",2e4,"Turn Time / ms","duration of each turn, in milliseconds",5e3,6e4],["optDecks","i",1,"Decks","number of decks to use",1,3]];function k({optDecks:e,optTurnTime:t}){return`${e} deck${1===e?"":"s"}, ${t} ms`}function C(e){return e?"primary":"secondary"}(s=r||(r={}))[s.WELCOME=0]="WELCOME",s[s.JOIN=1]="JOIN",s[s.LEAVE=2]="LEAVE",s[s.RESET=3]="RESET",s[s.RENAME=4]="RENAME",s[s.PING=5]="PING",s[s.PING_TIME=6]="PING_TIME",s[s.CHAT=7]="CHAT",s[s.ACTIVE=8]="ACTIVE",s[s.ROUND_WAIT=9]="ROUND_WAIT",s[s.ROUND_INTERM=10]="ROUND_INTERM",s[s.ROUND_START=11]="ROUND_START",s[s.READY=12]="READY",s[s.END_ROUND=13]="END_ROUND",s[s.MOVE_CONFIRM=14]="MOVE_CONFIRM",s[s.END_TURN=15]="END_TURN",s[s.PLAYER_ELIMINATE=16]="PLAYER_ELIMINATE",s[s.PLAYER_ELIMINATE_EARLY=17]="PLAYER_ELIMINATE_EARLY",s[s.PLAYER_PRIVATE_INFO_MY_HAND=18]="PLAYER_PRIVATE_INFO_MY_HAND",s[s.PLAYER_PRIVATE_INFO_ALT_MOVE=19]="PLAYER_PRIVATE_INFO_ALT_MOVE",s[s.PLAYER_PRIVATE_INFO_MOVE=20]="PLAYER_PRIVATE_INFO_MOVE",(n=i||(i={}))[n.RESET=0]="RESET",n[n.RENAME=1]="RENAME",n[n.PONG=2]="PONG",n[n.CHAT=3]="CHAT",n[n.ACTIVE=4]="ACTIVE",n[n.READY=5]="READY",n[n.MOVE=6]="MOVE",n[n.MOVE_END=7]="MOVE_END";class M extends Y{#r=o.wk1(0);get score(){return o.JtY(this.#r)}set score(e){o.hZp(this.#r,e,!0)}#i=o.wk1(0);get streak(){return o.JtY(this.#i)}set streak(e){o.hZp(this.#i,e,!0)}#o=o.wk1(0);get wins(){return o.JtY(this.#o)}set wins(e){o.hZp(this.#o,e,!0)}#d=o.wk1(0);get losses(){return o.JtY(this.#d)}set losses(e){o.hZp(this.#d,e,!0)}#c=o.wk1(0);get rankLast(){return o.JtY(this.#c)}set rankLast(e){o.hZp(this.#c,e,!0)}#l=o.wk1(0);get rankBest(){return o.JtY(this.#l)}set rankBest(e){o.hZp(this.#l,e,!0)}#h=o.wk1(0);get rankWorst(){return o.JtY(this.#h)}set rankWorst(e){o.hZp(this.#h,e,!0)}updateScore(e,t){this.rankLast=e,this.rankLast=e,this.rankBest=Math.min(this.rankBest||e,e),this.rankWorst=Math.max(this.rankWorst,e),this.score+=t-e+1,1===e?(this.streak<0&&(this.streak=0),this.streak++,this.wins++):(this.streak>0&&(this.streak=0),this.streak--,this.losses++)}resetScore(){this.score=0,this.streak=0,this.wins=0,this.losses=0,this.rankLast=0,this.rankBest=0,this.rankWorst=0}readWelcome(e){super.readWelcome(e),this.score=e.getInt(),this.streak=e.getInt(),this.wins=e.getInt(),this.losses=e.getInt(),this.rankLast=e.getInt(),this.rankBest=e.getInt(),this.rankWorst=e.getInt()}}class E extends w{#u=o.wk1(o.BXG([]));get discarded(){return o.JtY(this.#u)}set discarded(e){o.hZp(this.#u,e,!0)}#p=o.wk1(0);get discardSum(){return o.JtY(this.#p)}set discardSum(e){o.hZp(this.#p,e,!0)}#g=o.wk1(!1);get immune(){return o.JtY(this.#g)}set immune(e){o.hZp(this.#g,e,!0)}#v=o.wk1();get hand(){return o.JtY(this.#v)}set hand(e){o.hZp(this.#v,e,!0)}}class j extends J{discarded=[];discardSum=0}class L extends b{PlayerInfoType=E;PlayerDiscType=j;#m=o.wk1(o.BXG((0,g.q)(x)));get mode(){return o.JtY(this.#m)}set mode(e){o.hZp(this.#m,e,!0)}#f=o.wk1(0);get myHand(){return o.JtY(this.#f)}set myHand(e){o.hZp(this.#f,e,!0)}#I=o.wk1(0);get myAltMove(){return o.JtY(this.#I)}set myAltMove(e){o.hZp(this.#I,e,!0)}#y=o.wk1(0);get deckSize(){return o.JtY(this.#y)}set deckSize(e){o.hZp(this.#y,e,!0)}#Y=o.wk1(o.BXG(_()));get cardCountDiscard(){return o.JtY(this.#Y)}set cardCountDiscard(e){o.hZp(this.#Y,e,!0)}#w=o.wk1(o.BXG(_()));get cardCountRemain(){return o.JtY(this.#w)}set cardCountRemain(e){o.hZp(this.#w,e,!0)}#J=o.wk1(o.BXG(_()));get cardCountTotal(){return o.JtY(this.#J)}set cardCountTotal(e){o.hZp(this.#J,e,!0)}#b=o.wk1(o.BXG([]));get moveHistory(){return o.JtY(this.#b)}set moveHistory(e){o.hZp(this.#b,e,!0)}#x=o.wk1(!1);get pendingMoveUseHand(){return o.JtY(this.#x)}set pendingMoveUseHand(e){o.hZp(this.#x,e,!0)}#k=o.wk1(0);get pendingMoveTarget(){return o.JtY(this.#k)}set pendingMoveTarget(e){o.hZp(this.#k,e,!0)}#C=o.wk1(0);get pendingMoveGuess(){return o.JtY(this.#C)}set pendingMoveGuess(e){o.hZp(this.#C,e,!0)}get ROUND_TIME(){return this.mode.optTurnTime}INTERMISSION_TIME=3e4;newClient(){return new M}enterGame(e,t){this.setupGame(e),this.sendf("is",this.PROTOCOL_VERSION,t)}sendReset(){this.sendf("i",i.RESET)}sendRename(e){this.sendf("is",i.RENAME,e)}sendPong(e){this.sendf("i2",i.PONG,e)}sendChat(e,t,a=-1){this.sendf("i3s",i.CHAT,t,a,(0,y.JK)(e))}sendActive(){this.sendf("i",i.ACTIVE)}sendReady(){this.sendf("i",i.READY)}sendMove(e,t,a){this.sendf("ibi2",i.MOVE,e,t,a)}sendMoveUseHand(e){this.sendMove(e,this.pendingMoveTarget,this.pendingMoveGuess)}sendMoveTarget(e){this.sendMove(this.pendingMoveUseHand,e,this.pendingMoveGuess)}sendMoveGuess(e){this.sendMove(this.pendingMoveUseHand,this.pendingMoveTarget,e)}sendMoveEnd(){this.sendf("i",i.MOVE_END)}MESSAGE_HANDLERS={[r.WELCOME]:this.processWelcome,[r.JOIN]:this.processJoin,[r.LEAVE]:this.processLeave,[r.RESET]:this.processReset,[r.RENAME]:this.processRename,[r.PING]:this.processPing,[r.PING_TIME]:this.processPingTime,[r.CHAT]:this.processChat,[r.ACTIVE]:this.processActive,[r.ROUND_WAIT]:this.processRoundWait,[r.ROUND_INTERM]:this.processRoundInterm,[r.ROUND_START]:this.processRoundStart,[r.READY]:this.processReady,[r.END_ROUND]:this.processEndRound,[r.MOVE_CONFIRM]:this.processMoveConfirm,[r.END_TURN]:this.processEndTurn,[r.PLAYER_ELIMINATE]:this.processEliminate,[r.PLAYER_ELIMINATE_EARLY]:this.processEliminateEarly,[r.PLAYER_PRIVATE_INFO_MY_HAND]:this.processPrivateInfoMyHand,[r.PLAYER_PRIVATE_INFO_ALT_MOVE]:this.processPrivateInfoAltMove,[r.PLAYER_PRIVATE_INFO_MOVE]:this.processPrivateInfoMove};processWelcomeMode(e){var t;this.mode.optTurnTime=e.getInt(),this.mode.optDecks=(t=e.getInt(),1>t?1:t<3?t:3)}processPlayerInfo(e,t){t.discarded=Array.from({length:Math.min(e.getInt(),45)},()=>e.getInt()),t.immune=e.getBool(),t.discardSum=f(t.discarded)}processDiscInfo(e,t){t.discarded=Array.from({length:Math.min(e.getInt(),45)},()=>e.getInt()),t.discardSum=f(t.discarded)}processRoundStartInfo(e){this.deckSize=15*this.mode.optDecks-this.playerInfo.length-1,this.cardCountDiscard=_(),this.cardCountRemain=R(this.mode.optDecks),this.cardCountTotal=R(this.mode.optDecks),this.moveHistory=[]}processRoundInfo(e){this.deckSize=e.getInt();let t=[e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),0];t[8]=f(t.slice(0,8));let a=R(this.mode.optDecks);this.cardCountDiscard=t,this.cardCountRemain=a.map((e,a)=>e-t[a]),this.cardCountTotal=a,this.moveHistory=[]}processMoveConfirm(e){this.pendingMoveUseHand=e.getBool(),this.pendingMoveTarget=e.getInt(),this.pendingMoveGuess=e.getInt()}processEndTurn(e){let t=this.playerInfo[this.turnIndex],a=e.getInt(),s=e.getInt(),n=this.clients[t.owner],r=this.playerInfo[s],i=n===this.localClient,o={type:"move",playerName:(0,I.M0)(n,t.owner),playerIsMe:i,move:a,targetName:r?(0,I.M0)(this.clients[r.owner],r.owner):"nobody",targetIsMe:this.playerIsMe(r),targetIsPlayer:r===t,targetValid:!!r,info:0};switch(i&&a===this.myHand&&(this.myHand=this.myAltMove),t.hand===a&&(t.hand=void 0),8!==a&&(t.discarded.push(a),t.discardSum+=a,this.updateDiscardCount(a)),a){case 1:o.info=e.getInt();break;case 2:break;case 3:if(s>=0){let a=e.getInt();o.info=a,a?-7===a&&r?r.hand=8:7===a&&(t.hand=8):r&&r.hand!==t.hand&&(void 0===r.hand?r.hand=t.hand:void 0===t.hand&&(t.hand=r.hand))}break;case 4:t.immune=!0;break;case 5:{let a=e.getInt();o.info=a,8!==a&&(t.hand=void 0,t.discarded.push(a),t.discardSum+=a,this.updateDiscardCount(a),this.deckSize--);break}case 6:if(r&&!this.playerIsMe(t)&&!this.playerIsMe(r)){let e=r.hand;r.hand=t.hand,t.hand=e}}this.deckSize--,this.moveHistory.push(o),this.setTimer(this.mode.optTurnTime),this.nextTurn(),this.playerInfo[this.turnIndex].immune=!1}processEndRound(e){this.deckSize++;let t=this.playerInfo;for(let a of t)a.hand=e.getInt();let a={survived:[],eliminated:this.playerDiscInfo.map(e=>({...e,name:e.ownerName}))},s=t.length+this.playerDiscInfo.length,n=[...t].sort(N),r=1;for(let e=0;e<n.length;e++){let t=n[e];e&&N(t,n[e-1])&&(r=e+1);let i=this.clients[t.owner];a.survived.push({name:(0,I.M0)(i,t.owner),isMe:i===this.localClient,hand:t.hand??0,rank:r,discarded:t.discarded,discardSum:t.discardSum}),i.updateScore(r,s)}this.updatePlayers(),this.addHistory(a)}eliminatePlayer(e,t,a,s,n,r){let i;r&&this.playerInfo[this.turnIndex]==s&&(i=e.getInt(),s.discarded.push(i),s.discardSum+=i,this.updateDiscardCount(i));let o=e.getInt();t.discarded=[...s.discarded,o],t.discardSum=s.discardSum+o,this.updateDiscardCount(o);let d=this.playerInfo.length,c=d+this.playerDiscInfo.length;return n.updateScore(d,c),this.updatePlayers(),r&&(this.moveHistory.push({type:"leave",playerName:n.formatName(),playerIsMe:n===this.localClient,hand:o,alt:i}),this.setTimer(this.mode.optTurnTime)),this.turnIndex>a?this.turnIndex--:this.turnIndex===this.playerInfo.length-1&&(this.turnIndex=0),!1}processPrivateInfoMyHand(e){this.myHand=e.getInt()}processPrivateInfoAltMove(e){this.myAltMove=e.getInt()}processPrivateInfoMove(e){let t=e.getInt(),a=e.getInt(),s=e.getInt(),n=this.playerInfo[a],r=this.formatPlayerName(n,a);switch(t){case 2:n&&(n.hand=s),this.moveHistory.push({type:"reveal",playerName:r,hand:s});break;case 3:{let e=this.myHand;n&&(n.hand=s),this.moveHistory.push({type:"cmp",ours:e,theirs:s,playerName:r});break}case 6:{let e=this.myHand;this.moveHistory.push({type:"trade",oldHand:e,newHand:s,playerName:r}),n&&(n.hand=e),this.myHand=s}}}playersSortProps=[e=>e.score,e=>e.wins,e=>e.streak];updateDiscardCount(e){e--,this.cardCountDiscard[e]++,this.cardCountDiscard[8]++,this.cardCountRemain[e]--,this.cardCountRemain[8]--}}function N(e,t){let a=e.hand??0;return(t.hand??0)-a||t.discardSum-e.discardSum}let T=[5,2,2,2,2,1,1,1,15];function _(){return[0,0,0,0,0,0,0,0,0]}function R(e){return T.map(t=>t*e)}var S=o.vUu('<th scope="col"> </th>'),A=o.vUu("<td> </td>"),U=o.vUu('<tr><th scope="row"> </th><!></tr>'),B=o.vUu('<div class="table-responsive"><table class="table table-sm"><thead><tr><th></th><!></tr></thead><tbody></tbody></table></div>'),P=a(124),D=a(131),G=o.vUu("<span>self</span>"),O=o.vUu("<span> </span>"),$=o.vUu("on <!>",1),H=o.vUu(" <span> </span> ",1),V=o.vUu(' <span class="badge text-bg-light"> </span>.',1),W=o.vUu("to become <span>IMMUNE</span>!",1),Z=o.vUu("who destroys <span> </span> ",1),z=o.vUu('<span> </span> uses <span class="badge text-bg-light"> </span> <!> <!>',1),q=o.vUu('<span class="badge text-bg-outline-secondary"> </span> has <span class="badge text-bg-light"> </span>!',1),F=o.vUu('You have <span class="badge text-bg-dark"> </span>; <span class="badge text-bg-outline-secondary"> </span> has <span class="badge text-bg-light"> </span>.',1),K=o.vUu('<span class="badge text-bg-outline-secondary"> </span> gives you <span class="badge text-bg-dark"> </span> for your <span class="badge text-bg-light"> </span>.',1),Q=o.vUu('and <span class="badge text-bg-light"> </span>',1),X=o.vUu('<span> </span> left, discarding <span class="badge text-bg-light"> </span> <!>.',1),ee=o.vUu("<li><!></li>"),et=o.vUu("<li>No moves yet!</li>"),ea=o.vUu('<b>Move History</b> <ol class="list-unstyled overflow-auto" style="max-height: 20rem"></ol>',1);function es(e,t){return t?["Guard (1)","Priest (2)","Baron (3)","Handmaid (4)","Prince (5)","King (6)","Countess (7)","Princess (8)"][e-1]:e<=8?e:["0b","0c","2b","3b","4b","5b","6b","7b","9b"][e-9]}var en=o.vUu("<!> <!>",1),er=o.vUu("<li> </li>"),ei=o.vUu('<span class="badge text-bg-dark"> </span>'),eo=(e,t)=>t.gameState.sendMoveUseHand(!0),ed=(e,t)=>t.gameState.sendMoveUseHand(!1),ec=(e,t)=>t.gameState.sendMoveTarget(-1),el=o.vUu("<button> </button>"),eh=(e,t)=>t.gameState.sendMoveGuess(0),eu=o.vUu("<button> </button>"),ep=(e,t)=>t.gameState.sendMoveEnd(),eg=o.vUu('<div class="col-12"><div class="btn-group d-flex mb-3" role="group"><span class="input-group-text">Discard</span> <button> </button> <button> </button></div></div> <div class="col-12 col-sm-6 mb-2"><label>Target<br/> <button id="dropdownMenuButtonTarget" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> </button> <div class="dropdown-menu" aria-labelledby="dropdownMenuButtonTarget"><button>auto</button> <!></div></label> <small class="form-text text-muted">1, 2, 3, 6 targets others; 5 targets any</small></div> <div class="col-12 col-sm-6 mb-3"><label>Guess<br/> <button id="dropdownMenuButtonGuess" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> </button> <div class="dropdown-menu" aria-labelledby="dropdownMenuButtonGuess"><button>auto</button> <!></div></label> <small class="form-text text-muted">only for 1</small></div> <div class="col-12 mb-2"><button class="btn btn-primary d-block w-100 mb-2">End Move</button></div>',1),ev=o.vUu('<div class="col-12">Your hand: <span class="badge text-bg-dark"> </span> <!></div> <!>',1),em=o.vUu("<span> </span>"),ef=o.vUu("<span>IMMUNE</span>"),eI=o.vUu('<span class="badge text-bg-light"> </span>'),ey=o.vUu("<li><span> </span> <span> </span> <!> <!> <!></li>"),eY=o.vUu("<li>No players!</li>"),ew=o.vUu('<span class="badge text-bg-light"> </span>'),eJ=o.vUu("<li> <span> </span> <!></li>"),eb=o.vUu("<li>No eliminations yet!</li>"),ex=o.vUu('<!> <div class="row"><div class="col-12 mt-2 mb-3"><div class="card my-2"><div class="card-header"><h4 class="card-title"><a data-bs-toggle="collapse" href="#collapseCardDesc"><small>Card Descriptions</small></a></h4></div> <div id="collapseCardDesc" class="card-collapse collapse show"><div class="card-body"><ul></ul></div></div></div></div> <!> <div class="col-12 col-sm-4"><b>Active Players</b> <ol class="list-unstyled"></ol> <b>Eliminated</b> <ol class="list-unstyled"></ol></div> <div class="col-12 col-sm-8"><!></div> <div class="col mt-2"> <!></div></div> <div> </div> <b>Lobby</b> <!>',1);o.MmH(["click"]);var ek=o.vUu('<span class="badge text-bg-light"> </span>'),eC=o.vUu("<li> <span> </span> <span> </span> <!></li>"),eM=o.vUu('<span class="badge text-bg-light"> </span>'),eE=o.vUu("<li> <span> </span> <!></li>"),ej=o.vUu('<li class="list-group-item"><b> </b> <ol class="list-unstyled"></ol> <b> </b> <ol class="list-unstyled"></ol></li>'),eL=o.vUu('<li class="list-group-item">No past games!</li>'),eN=o.vUu('<ul class="list-group list-group-flush overflow-auto" style="max-height: 15rem"></ul>'),eT=a(101),e_=o.vUu('<!> <div class="input-group mb-3"><span class="input-group-text flex-grow-1"><label class="form-check mx-auto"><input type="checkbox" class="form-check-input"/> Show Love Letter Names</label></span> <span class="input-group-text flex-grow-1"><label class="form-check mx-auto"><input type="checkbox" class="form-check-input"/> Show Card Count</label></span></div> <!> <!> <div class="row"><div class="col-12 col-xl-8"><!> <!></div> <div class="col-12 col-xl-4 mb-3"><!></div></div>',1);(0,a(95).A)(function(e,t){let a;o.VCO(t,!0);let s=new c.Ay,n=new L(s),r=o.unG(()=>n.pastGames),i=o.unG(()=>n.leaderboard),f=o.unG(()=>n.localClient),I=o.unG(()=>n.roundState),y=(0,eT.C)("game/mp/_shared/name",""),Y=(0,eT.C)("game/mp/discard/LL",!0),w=(0,eT.C)("game/mp/discard/cardCount",!0);var J=e_(),b=o.esp(J);(0,u.A)(b,{get value(){return y.value},set value($$value){y.value=$$value}});var M=o.hg4(b,2),E=o.jfp(M),j=o.jfp(E),N=o.jfp(j);o.R0j(N),o.K2T(),o.cLc(j),o.cLc(E);var T=o.hg4(E,2),_=o.jfp(T),R=o.jfp(_);o.R0j(R),o.K2T(),o.cLc(_),o.cLc(T),o.cLc(M);var eR=o.hg4(M,2);{let e=o.unG(()=>({name:y.value}));o.Lcc((0,v.A)(eR,{gameId:"discard-l3z5n5wptuoeqtkytj64a",roomType:"DiscardRoom",get joinData(){return o.JtY(e)},get gameRoom(){return n.room},onJoinedRoom:e=>n.enterGame(e,y.value),formatGameMode:e=>k((0,g.e)(x,e)),get roomCreateOptions(){return x}}),e=>a=e,()=>a)}var eS=o.hg4(eR,2);{let e=o.unG(()=>o.JtY(I)===m.mk.INTERMISSION);(0,p.A)(eS,{get inGame(){return n.room},get isActive(){return n.localClient.active},get canReady(){return o.JtY(e)},get isReady(){return n.localClient.ready},onActive:()=>n.sendActive(),onReady:()=>n.sendReady(),onReset:()=>n.sendReset(),onDisconnect:()=>(n.leaveGame(),a.refreshRooms()),children:(e,t)=>{!function(e,t){o.VCO(t,!0);let a=o.unG(()=>t.gameState.roundState),s=o.unG(()=>t.gameState.playerInfo),n=o.unG(()=>t.gameState.turnIndex),r=o.unG(()=>t.gameState.playing),i=o.unG(()=>t.gameState.canMove),d=o.unG(()=>t.gameState.playerDiscInfo),c=o.unG(()=>t.gameState.myHand),l=o.unG(()=>t.gameState.myAltMove),h=o.unG(()=>t.gameState.deckSize),u=o.unG(()=>t.gameState.cardCountDiscard),p=o.unG(()=>t.gameState.cardCountRemain),g=o.unG(()=>t.gameState.cardCountTotal),v=o.unG(()=>t.gameState.moveHistory),f=o.unG(()=>t.gameState.pendingMoveUseHand),I=o.unG(()=>t.gameState.pendingMoveTarget),y=o.unG(()=>t.gameState.pendingMoveGuess),Y=o.unG(()=>o.JtY(f)?o.JtY(c):o.JtY(l)),w=["","1 (5/deck)","2 (2/deck)","3 (2/deck)","4 (2/deck)","5 (2/deck)","6 (1/deck)","7 (1/deck)","8 (1/deck)"];function J(e,t){return 8===e||7===t&&(5==e||6==e)?"danger":1===e?"info":4!==e&&e<7?"primary":"secondary"}var b,x,M,E,j=ex(),L=o.esp(j),N=e=>{var t=o.Qq7("Waiting for players…");o.BCw(e,t)},T=e=>{var s=en(),n=o.esp(s),r=e=>{var t=o.Qq7("Intermission:");o.BCw(e,t)},d=e=>{var t=o.Imx(),a=o.esp(t),s=e=>{var t=o.Qq7("Make a move:");o.BCw(e,t)},n=e=>{var t=o.Qq7("Waiting for others to move…");o.BCw(e,t)};o.if(a,e=>{o.JtY(i)?e(s):e(n,!1)},!0),o.BCw(e,t)};o.if(n,e=>{o.JtY(a)===m.mk.INTERMISSION?e(r):e(d,!1)});var c=o.hg4(n,2);(0,P.A)(c,{get startTime(){return t.gameState.roundTimerStart},get endTime(){return t.gameState.roundTimerEnd},get active(){return t.gameState.room}}),o.BCw(e,s)};o.if(L,e=>{o.JtY(a)===m.mk.WAITING?e(N):e(T,!1)});var _=o.hg4(L,2),R=o.jfp(_),ek=o.jfp(R),eC=o.hg4(o.jfp(ek),2),eM=o.jfp(eC),eE=o.jfp(eM);o.__1(eE,20,()=>[1,2,3,4,5,6,7,8],o.Pe0,(e,s)=>{let n;var d=er(),h=o.jfp(d);o.cLc(d),o.vNg((e,t,a)=>{n=o.ysU(d,1,"",null,n,e),o.jax(h,`${t??""}: ${a??""}`)},[()=>({"fw-bold":o.JtY(a)===m.mk.ACTIVE&&o.JtY(r)&&(s===o.JtY(c)||o.JtY(i)&&s===o.JtY(l))}),()=>es(s,t.ll),()=>{var e;return e=t.ll,s<1||s>8?"unknown":["target another player and guess hand value (not 1); if correct, target discards without effect and loses (5/deck)","target another player; you look at his hand (2/deck)","target another player; compare; lower player loses (no action on tie) (2/deck)","prevent being targeted until your next turn (2/deck)","target one player (including self); target discards (with effect only for 8) and (if not 8) draws new card (2/deck)","target another player; trade cards (1/deck)",`no action, but must discard if other is ${es(5,e)} or ${es(6,e)} (1/deck)`,"lose (try not to discard this) (1/deck)"][s-1]}]),o.BCw(e,d)}),o.cLc(eE),o.cLc(eM),o.cLc(eC),o.cLc(ek),o.cLc(R);var ej=o.hg4(R,2),eL=e=>{var a=ev(),r=o.esp(a),d=o.hg4(o.jfp(r)),h=o.jfp(d,!0);o.cLc(d);var u=o.hg4(d,2),p=e=>{var a=ei(),s=o.jfp(a,!0);o.cLc(a),o.vNg(e=>o.jax(s,e),[()=>es(o.JtY(l),t.ll)]),o.BCw(e,a)};o.if(u,e=>{o.JtY(i)&&e(p)}),o.cLc(r);var g=o.hg4(r,2),v=e=>{let a,r,i,d;var h=eg(),u=o.esp(h),p=o.jfp(u),g=o.hg4(o.jfp(p),2);g.__click=[eo,t];var v=o.jfp(g,!0);o.cLc(g);var m=o.hg4(g,2);m.__click=[ed,t];var b=o.jfp(m,!0);o.cLc(m),o.cLc(p),o.cLc(u);var x=o.hg4(u,2),k=o.jfp(x),C=o.hg4(o.jfp(k),3),M=o.jfp(C,!0);o.cLc(C);var E=o.hg4(C,2),j=o.jfp(E);j.__click=[ec,t];var L=o.hg4(j,2);o.__1(L,17,()=>o.JtY(s),o.Pe0,(e,a,s)=>{let r;var i=el();i.__click=()=>t.gameState.sendMoveTarget(s);var d=o.jfp(i,!0);o.cLc(i),o.vNg((e,t)=>{r=o.ysU(i,1,"dropdown-item",null,r,e),o.jax(d,t)},[()=>({"text-bg-danger":s===o.JtY(n)&&5!==o.JtY(Y)||o.JtY(a).immune,active:o.JtY(I)===s}),()=>t.gameState.formatPlayerName(o.JtY(a))]),o.BCw(e,i)}),o.cLc(E),o.cLc(k),o.K2T(2),o.cLc(x);var N=o.hg4(x,2),T=o.jfp(N),_=o.hg4(o.jfp(T),3),R=o.jfp(_,!0);o.cLc(_);var S=o.hg4(_,2),A=o.jfp(S);A.__click=[eh,t];var U=o.hg4(A,2);o.__1(U,17,()=>w.slice(2),o.Pe0,(e,a,s)=>{let n;var r=eu();r.__click=()=>t.gameState.sendMoveGuess(s+2);var i=o.jfp(r,!0);o.cLc(r),o.vNg(e=>{n=o.ysU(r,1,"dropdown-item",null,n,e),o.jax(i,o.JtY(a))},[()=>({active:o.JtY(y)===s+2})]),o.BCw(e,r)}),o.cLc(S),o.cLc(T),o.K2T(2),o.cLc(N);var B=o.hg4(N,2);o.jfp(B).__click=[ep,t],o.cLc(B),o.vNg((e,t,s,n,c,l,h,u,p)=>{a=o.ysU(g,1,`fw-bold w-100 btn btn-outline-${e??""}`,null,a,t),o.jax(v,s),r=o.ysU(m,1,`fw-bold w-100 btn btn-outline-${n??""}`,null,r,c),o.jax(b,l),o.ysU(C,1,`btn btn-outline-${4!==o.JtY(Y)&&7>o.JtY(Y)?"primary":"secondary"} dropdown-toggle`),o.jax(M,h),i=o.ysU(j,1,"dropdown-item",null,i,u),o.ysU(_,1,`btn btn-outline-${1===o.JtY(Y)?"info":"secondary"} dropdown-toggle`),o.jax(R,o.JtY(y)>1?w[o.JtY(y)]:"auto"),d=o.ysU(A,1,"dropdown-item",null,d,p)},[()=>J(o.JtY(c),o.JtY(l)),()=>({active:o.JtY(f)}),()=>es(o.JtY(c),t.ll),()=>J(o.JtY(l),o.JtY(c)),()=>({active:!o.JtY(f)}),()=>es(o.JtY(l),t.ll),()=>0>o.JtY(I)?"auto":t.gameState.formatPlayerName(t.gameState.playerInfo[o.JtY(I)],o.JtY(I)),()=>({active:0>o.JtY(I)}),()=>({active:2>o.JtY(y)})]),o.BCw(e,h)};o.if(g,e=>{o.JtY(i)&&e(v)}),o.vNg(e=>o.jax(h,e),[()=>es(o.JtY(c),t.ll)]),o.BCw(e,a)};o.if(ej,e=>{o.JtY(a)===m.mk.ACTIVE&&o.JtY(r)&&e(eL)});var eN=o.hg4(ej,2),eT=o.hg4(o.jfp(eN),2);o.__1(eT,21,()=>o.JtY(s),o.Pe0,(e,s,r)=>{let i=o.unG(()=>t.gameState.playerIsMe(o.JtY(s))),d=o.unG(()=>o.JtY(i)?"":"-outline");var h=ey(),u=o.jfp(h),p=o.jfp(u,!0);o.cLc(u);var g=o.hg4(u,2),v=o.jfp(g,!0);o.cLc(g);var f=o.hg4(g,2),I=e=>{var a=em(),s=o.jfp(a,!0);o.cLc(a),o.vNg(e=>{o.ysU(a,1,`badge text-bg${o.JtY(d)??""}-dark`),o.jax(s,e)},[()=>o.JtY(i)?es(o.JtY(l),t.ll):"?"]),o.BCw(e,a)};o.if(f,e=>{o.JtY(a)===m.mk.ACTIVE&&r===o.JtY(n)&&e(I)});var y=o.hg4(f,2),Y=e=>{var t=ef();o.vNg(()=>o.ysU(t,1,`badge text-bg${o.JtY(d)??""}-info`)),o.BCw(e,t)};o.if(y,e=>{o.JtY(s).immune&&e(Y)});var w=o.hg4(y),J=o.hg4(w);o.__1(J,17,()=>o.JtY(s).discarded,o.Pe0,(e,t)=>{var a=eI(),s=o.jfp(a,!0);o.cLc(a),o.vNg(()=>o.jax(s,o.JtY(t))),o.BCw(e,a)}),o.cLc(h),o.vNg((e,t,a)=>{o.ysU(u,1,`badge text-bg${o.JtY(d)??""}-${e??""}`),o.jax(p,t),o.ysU(g,1,`badge text-bg${o.JtY(d)??""}-dark`),o.jax(v,a),o.jax(w,` ${o.JtY(s).discardSum??""} `)},[()=>C(o.JtY(i)),()=>t.gameState.formatPlayerName(o.JtY(s)),()=>o.JtY(i)?es(o.JtY(c),t.ll):o.JtY(s).hand?es(o.JtY(s).hand,t.ll):"?"]),o.BCw(e,h)},e=>{var t=eY();o.BCw(e,t)}),o.cLc(eT);var e_=o.hg4(eT,4);o.__1(e_,21,()=>o.JtY(d),o.Pe0,(e,a,n)=>{let r=o.unG(()=>o.JtY(a).isMe?"":"-outline");var i=eJ(),d=o.jfp(i),c=o.hg4(d),l=o.jfp(c,!0);o.cLc(c);var h=o.hg4(c),u=o.hg4(h);o.__1(u,17,()=>o.JtY(a).discarded,o.Pe0,(e,t)=>{var a=ew(),s=o.jfp(a,!0);o.cLc(a),o.vNg(()=>o.jax(s,o.JtY(t))),o.BCw(e,a)}),o.cLc(i),o.vNg(()=>{o.jax(d,`#${n+(n>=t.gameState.discIndex?1+o.JtY(s).length:1)}: `),o.ysU(c,1,`badge text-bg${o.JtY(r)??""}-danger`),o.jax(l,o.JtY(a).ownerName),o.jax(h,` ${o.JtY(a).discardSum??""} `)}),o.BCw(e,i)},e=>{var t=eb();o.BCw(e,t)}),o.cLc(e_),o.cLc(eN);var eR=o.hg4(eN,2);b=o.jfp(eR),x={get moves(){return o.JtY(v)},get ll(){return t.ll}},o.VCO(x,!0),M=ea(),E=o.hg4(o.esp(M),2),o.__1(E,21,()=>x.moves,o.Pe0,(e,t)=>{var a=ee(),s=o.jfp(a),n=e=>{let a=o.unG(()=>o.JtY(t).playerIsMe?"":"-outline"),s=o.unG(()=>o.JtY(t).targetIsMe?"":"-outline");var n=z(),r=o.esp(n),i=o.jfp(r,!0);o.cLc(r);var d=o.hg4(r,2),c=o.jfp(d,!0);o.cLc(d);var l=o.hg4(d,2),h=e=>{var n=$(),r=o.hg4(o.esp(n)),i=e=>{var t=G();o.vNg(()=>o.ysU(t,1,`badge text-bg${o.JtY(a)??""}-dark`)),o.BCw(e,t)},d=e=>{var a=O(),n=o.jfp(a,!0);o.cLc(a),o.vNg(e=>{o.ysU(a,1,`badge text-bg${o.JtY(s)??""}-${e??""}`),o.jax(n,o.JtY(t).targetName)},[()=>C(o.JtY(t).targetIsMe)]),o.BCw(e,a)};o.if(r,e=>{o.JtY(t).targetIsPlayer?e(i):e(d,!1)}),o.BCw(e,n)};o.if(l,e=>{4!==o.JtY(t).move&&o.JtY(t).move<7&&e(h)});var u=o.hg4(l,2),p=e=>{var a=H(),s=o.esp(a),n=o.hg4(s),r=o.jfp(n,!0);o.cLc(n);var i=o.hg4(n,1,!0);o.vNg(e=>{o.jax(s,`who has ${o.JtY(t).info<0?"":"no"} `),o.ysU(n,1,`badge text-bg-${o.JtY(t).info<0?"danger":"warning"}`),o.jax(r,e),o.jax(i,o.JtY(t).info<0?"!":".")},[()=>es(Math.abs(o.JtY(t).info),x.ll)]),o.BCw(e,a)},g=e=>{var s=o.Imx(),n=o.esp(s),r=e=>{var t=o.Qq7("to see the hand.");o.BCw(e,t)},i=e=>{var s=o.Imx(),n=o.esp(s),r=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{var a=V(),s=o.esp(a),n=o.hg4(s),r=o.jfp(n,!0);o.cLc(n),o.K2T(),o.vNg(e=>{o.jax(s,`and ${o.JtY(t).info<0?"loses with":"beats"} `),o.jax(r,e)},[()=>es(Math.abs(o.JtY(t).info),x.ll)]),o.BCw(e,a)},r=e=>{var t=o.Qq7("and matches hands!");o.BCw(e,t)};o.if(s,e=>{o.JtY(t).info?e(n):e(r,!1)}),o.BCw(e,a)},i=e=>{var s=o.Imx(),n=o.esp(s),r=e=>{var t=W(),s=o.hg4(o.esp(t));o.K2T(),o.vNg(()=>o.ysU(s,1,`badge text-bg${o.JtY(a)??""}-info`)),o.BCw(e,t)},i=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{var a=Z(),s=o.hg4(o.esp(a)),n=o.jfp(s,!0);o.cLc(s);var r=o.hg4(s,1,!0);o.vNg(e=>{o.ysU(s,1,`badge text-bg-${8===o.JtY(t).info?"danger":"light"}`),o.jax(n,e),o.jax(r,8===o.JtY(t).info?"!":" and draws.")},[()=>es(o.JtY(t).info,x.ll)]),o.BCw(e,a)},r=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{var t=o.Qq7("to trade hands.");o.BCw(e,t)},r=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{var t=o.Qq7("for no effect.");o.BCw(e,t)},r=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{var t=o.Qq7("and lost‽");o.BCw(e,t)};o.if(s,e=>{8===o.JtY(t).move&&e(n)},!0),o.BCw(e,a)};o.if(s,e=>{7===o.JtY(t).move?e(n):e(r,!1)},!0),o.BCw(e,a)};o.if(s,e=>{6===o.JtY(t).move&&o.JtY(t).targetValid?e(n):e(r,!1)},!0),o.BCw(e,a)};o.if(s,e=>{5===o.JtY(t).move?e(n):e(r,!1)},!0),o.BCw(e,a)};o.if(n,e=>{4===o.JtY(t).move?e(r):e(i,!1)},!0),o.BCw(e,s)};o.if(n,e=>{3===o.JtY(t).move&&o.JtY(t).targetValid?e(r):e(i,!1)},!0),o.BCw(e,s)};o.if(n,e=>{2===o.JtY(t).move&&o.JtY(t).targetValid?e(r):e(i,!1)},!0),o.BCw(e,s)};o.if(u,e=>{1===o.JtY(t).move&&o.JtY(t).targetValid?e(p):e(g,!1)}),o.vNg((e,s)=>{o.ysU(r,1,`badge text-bg${o.JtY(a)??""}-${e??""}`),o.jax(i,o.JtY(t).playerName),o.jax(c,s)},[()=>C(o.JtY(t).playerIsMe),()=>es(o.JtY(t).move,x.ll)]),o.BCw(e,n)},r=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{var a=q(),s=o.esp(a),n=o.jfp(s,!0);o.cLc(s);var r=o.hg4(s,2),i=o.jfp(r,!0);o.cLc(r),o.K2T(),o.vNg(e=>{o.jax(n,o.JtY(t).playerName),o.jax(i,e)},[()=>es(o.JtY(t).hand,x.ll)]),o.BCw(e,a)},r=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{var a=F(),s=o.hg4(o.esp(a)),n=o.jfp(s,!0);o.cLc(s);var r=o.hg4(s,2),i=o.jfp(r,!0);o.cLc(r);var d=o.hg4(r,2),c=o.jfp(d,!0);o.cLc(d),o.K2T(),o.vNg((e,a)=>{o.jax(n,e),o.jax(i,o.JtY(t).playerName),o.jax(c,a)},[()=>es(o.JtY(t).ours,x.ll),()=>es(o.JtY(t).theirs,x.ll)]),o.BCw(e,a)},r=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{var a=K(),s=o.esp(a),n=o.jfp(s,!0);o.cLc(s);var r=o.hg4(s,2),i=o.jfp(r,!0);o.cLc(r);var d=o.hg4(r,2),c=o.jfp(d,!0);o.cLc(d),o.K2T(),o.vNg(()=>{o.jax(n,o.JtY(t).playerName),o.jax(i,o.JtY(t).newHand),o.jax(c,o.JtY(t).oldHand)}),o.BCw(e,a)},r=e=>{var a=o.Imx(),s=o.esp(a),n=e=>{let a=o.unG(()=>o.JtY(t).playerIsMe?"":"-outline");var s=X(),n=o.esp(s),r=o.jfp(n,!0);o.cLc(n);var i=o.hg4(n,2),d=o.jfp(i,!0);o.cLc(i);var c=o.hg4(i,2),l=e=>{var a=Q(),s=o.hg4(o.esp(a)),n=o.jfp(s,!0);o.cLc(s),o.vNg(e=>o.jax(n,e),[()=>es(o.JtY(t).alt,x.ll)]),o.BCw(e,a)};o.if(c,e=>{void 0!=o.JtY(t).alt&&e(l)}),o.K2T(),o.vNg((e,s)=>{o.ysU(n,1,`badge text-bg${o.JtY(a)??""}-${e??""}`),o.jax(r,o.JtY(t).playerName),o.jax(d,s)},[()=>C(o.JtY(t).playerIsMe),()=>es(o.JtY(t).hand,x.ll)]),o.BCw(e,s)},r=e=>{var a=o.Qq7();o.vNg(()=>o.jax(a,`[unknown move ${o.JtY(t)??""}]`)),o.BCw(e,a)};o.if(s,e=>{"leave"==o.JtY(t).type?e(n):e(r,!1)},!0),o.BCw(e,a)};o.if(s,e=>{"trade"===o.JtY(t).type?e(n):e(r,!1)},!0),o.BCw(e,a)};o.if(s,e=>{"cmp"===o.JtY(t).type?e(n):e(r,!1)},!0),o.BCw(e,a)};o.if(s,e=>{"reveal"===o.JtY(t).type?e(n):e(r,!1)},!0),o.BCw(e,a)};o.if(s,e=>{"move"===o.JtY(t).type?e(n):e(r,!1)}),o.cLc(a),o.BCw(e,a)},e=>{var t=et();o.BCw(e,t)}),o.cLc(E),o.BCw(b,M),o.uYY(),o.cLc(eR);var eS=o.hg4(eR,2),eA=o.jfp(eS),eU=o.hg4(eA),eB=e=>{{var t,a,s,n,r,i,d;let c=o.unG(()=>[["Unplayed",o.JtY(p)],["Discarded",o.JtY(u)],["Total",o.JtY(g)]]);t={ranks:["1","2","3","4","5","6","7","8","Total"],get counts(){return o.JtY(c)}},a=B(),s=o.jfp(a),n=o.jfp(s),r=o.jfp(n),i=o.hg4(o.jfp(r)),o.__1(i,17,()=>t.ranks,o.Pe0,(e,t)=>{var a=S(),s=o.jfp(a,!0);o.cLc(a),o.vNg(()=>o.jax(s,o.JtY(t))),o.BCw(e,a)}),o.cLc(r),o.cLc(n),d=o.hg4(n),o.__1(d,21,()=>t.counts,o.Pe0,(e,t)=>{var a=U(),s=o.jfp(a),n=o.jfp(s,!0);o.cLc(s);var r=o.hg4(s);o.__1(r,17,()=>o.JtY(t)[1],o.Pe0,(e,t)=>{var a=A(),s=o.jfp(a,!0);o.cLc(a),o.vNg(()=>o.jax(s,o.JtY(t))),o.BCw(e,a)}),o.cLc(a),o.vNg(()=>o.jax(n,o.JtY(t)[0])),o.BCw(e,a)}),o.cLc(d),o.cLc(s),o.cLc(a),o.BCw(e,a)}};o.if(eU,e=>{t.showCardCount&&e(eB)}),o.cLc(eS),o.cLc(_);var eP=o.hg4(_,2),eD=o.jfp(eP);o.cLc(eP);var eG=o.hg4(eP,4);(0,D.A)(eG,{get localClient(){return t.gameState.localClient},get inGame(){return t.gameState.roundPlayers},get inQueue(){return t.gameState.roundPlayerQueue}}),o.vNg(e=>{o.jax(eA,`Draw pile count: ${o.JtY(h)??""} (players have ${o.JtY(p)[8]-o.JtY(h)}) `),o.jax(eD,`Game Mode: ${e??""}`)},[()=>k(t.gameState.mode)]),o.BCw(e,j),o.uYY()}(e,{get gameState(){return n},get ll(){return Y.value},get showCardCount(){return w.value}})},$$slots:{default:!0}})}var eA=o.hg4(eS,2),eU=o.jfp(eA),eB=o.jfp(eU);(0,l.A)(eB,{get canClear(){return o.JtY(r).length},onClear:()=>n.clearHistory(),children:(e,t)=>{var a,s;a={get results(){return o.JtY(r)},get ll(){return Y.value}},o.VCO(a,!0),s=eN(),o.__1(s,21,()=>a.results,o.Pe0,(e,t)=>{var s=ej(),n=o.jfp(s),r=o.jfp(n);o.cLc(n);var i=o.hg4(n,2);o.__1(i,21,()=>o.JtY(t).survived,o.Pe0,(e,t)=>{let s=o.unG(()=>o.JtY(t).isMe?"":"-outline");var n=eC(),r=o.jfp(n),i=o.hg4(r),d=o.jfp(i,!0);o.cLc(i);var c=o.hg4(i,2),l=o.jfp(c,!0);o.cLc(c);var h=o.hg4(c),u=o.hg4(h);o.__1(u,17,()=>o.JtY(t).discarded,o.Pe0,(e,t)=>{var s=ek(),n=o.jfp(s,!0);o.cLc(s),o.vNg(e=>o.jax(n,e),[()=>es(o.JtY(t),a.ll)]),o.BCw(e,s)}),o.cLc(n),o.vNg(e=>{o.jax(r,`#${o.JtY(t).rank??""}: `),o.ysU(i,1,`badge text-bg${o.JtY(s)??""}-${o.JtY(t).rank>1?"warning":"success"}`),o.jax(d,o.JtY(t).name),o.ysU(c,1,`badge text-bg${o.JtY(s)??""}-dark`),o.jax(l,e),o.jax(h,` ${o.JtY(t).discardSum??""} `)},[()=>es(o.JtY(t).hand,a.ll)]),o.BCw(e,n)}),o.cLc(i);var d=o.hg4(i,2),c=o.jfp(d);o.cLc(d);var l=o.hg4(d,2);o.__1(l,21,()=>o.JtY(t).eliminated,o.Pe0,(e,s,n)=>{let r=o.unG(()=>o.JtY(s).isMe?"":"-outline");var i=eE(),d=o.jfp(i),c=o.hg4(d),l=o.jfp(c,!0);o.cLc(c);var h=o.hg4(c),u=o.hg4(h);o.__1(u,17,()=>o.JtY(s).discarded,o.Pe0,(e,t)=>{var s=eM(),n=o.jfp(s,!0);o.cLc(s),o.vNg(e=>o.jax(n,e),[()=>es(o.JtY(t),a.ll)]),o.BCw(e,s)}),o.cLc(i),o.vNg(()=>{o.jax(d,`#${o.JtY(t).survived.length+n+1}: `),o.ysU(c,1,`badge text-bg${o.JtY(r)??""}-danger`),o.jax(l,o.JtY(s).name),o.jax(h,` ${o.JtY(s).discardSum??""} `)}),o.BCw(e,i)}),o.cLc(l),o.cLc(s),o.vNg(()=>{o.jax(r,`Survived (${o.JtY(t).survived.length??""}):`),o.jax(c,`Eliminated (${o.JtY(t).eliminated.length??""}):`)}),o.BCw(e,s)},e=>{var t=eL();o.BCw(e,t)}),o.cLc(s),o.BCw(e,s),o.uYY()},$$slots:{default:!0}});var eP=o.hg4(eB,2);(0,h.A)(eP,{get leaderboard(){return o.JtY(i)},get localClient(){return o.JtY(f)},columns:[["Score",e=>e.score],["Streak",e=>e.streak],["Win",e=>e.wins],["Loss",e=>e.losses],["Rank Last",e=>e.rankLast],["Best",e=>e.rankBest],["Worst",e=>e.rankWorst]]}),o.cLc(eU);var eD=o.hg4(eU,2),eG=o.jfp(eD);(0,d.A)(eG,{get chatState(){return s},onInput:e=>(0,c.Oo)(n,e)}),o.cLc(eD),o.cLc(eA),o.mST(N,()=>Y.value,e=>Y.value=e),o.mST(R,()=>w.value,e=>w.value=e),o.BCw(e,J),o.uYY()})},127:function(e,t,a){a.d(t,{M0:()=>d,iq:()=>n,iw:()=>r,yh:()=>o,yn:()=>i});var s=a(128);let n=64;function r(e){return(e=e.replace(/[^a-zA-Z_ ]/,"").replace(/ {2,}/," ").trim().slice(0,20))||"unnamed"}function i(){let e=new s.k(new Uint8Array([0,1,2,3,4,5,6,7]));console.log("%cMultiplayer Game Bug Report Guide","font-family:helvetica; font-size:20px"),console.log("You're probably trying to debug a network error or file a bug report for it."),console.log("If you see an error like this, your report must contain the packet values:"),console.log("example",e.debugBuf,e),console.log("In the example above, you would have to submit at least [0, 1, 2, 3, 4, 5, 6, 7] (expand stuff as needed)")}function o(e,t){let a=e.filter(e=>e).sort((e,a)=>{for(let s of t){let t=s(e),n=s(a);if(t<n)return 1;if(t>n)return -1}return e.cn-a.cn}),s=1;return a.forEach((e,n)=>{if(n){let r=a[n-1];t.some(t=>t(e)!==t(r))&&(s=n+1)}a[n].rank=s}),a.sort((e,t)=>t.active-e.active)}function d(e,t){return e?`${e.name} (${e.cn})`:`<unknown${void 0===t?"":` (${t})`}>`}}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,a),r.exports}a.m=e,a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];a.O=(t,s,n,r)=>{if(s){r=r||0;for(var i=e.length;i>0&&e[i-1][2]>r;i--)e[i]=e[i-1];e[i]=[s,n,r];return}for(var o=1/0,i=0;i<e.length;i++){for(var[s,n,r]=e[i],d=!0,c=0;c<s.length;c++)(!1&r||o>=r)&&Object.keys(a.O).every(e=>a.O[e](s[c]))?s.splice(c--,1):(d=!1,r<o&&(o=r));if(d){e.splice(i--,1);var l=n();void 0!==l&&(t=l)}}return t}})(),a.rv=()=>"1.5.1",(()=>{var e={90:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var n,r,[i,o,d]=s,c=0;if(i.some(t=>0!==e[t])){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(d)var l=d(a)}for(t&&t(s);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(l)},s=self.webpackChunkvwww=self.webpackChunkvwww||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),a.ruid="bundler=rspack@1.5.1";var s=a.O(void 0,["1","2","5","13","28","17","29","35","38","40","36","34"],function(){return a(134)});s=a.O(s)})();