(()=>{"use strict";var t={149:function(t,e,a){a(1);var i=a(2);function n(t,e,a=!1){let o=i.wk1(i.BXG(e));function r(t){return"undefined"===t?void 0:JSON.parse(t)}if(window.localStorage){let n=localStorage.getItem(t);null!==n&&i.hZp(o,r(n),!0),i.MWq(()=>localStorage.setItem(t,void 0===i.JtY(o)?"undefined":JSON.stringify(i.JtY(o)))),a&&window.addEventListener("storage",a=>a.storageArea===localStorage&&a.key===t&&i.hZp(o,null==a.newValue?e:r(a.newValue),!0))}return{get value(){return i.JtY(o)},set value(newVal){i.hZp(o,newVal,!0)}}}var o=a(5),r=a(150),l=i.vUu('<label class="form-check form-check-inline"><input type="radio" class="form-check-input"/> <span class="form-check-label"> </span></label>'),s=i.vUu('<label class="form-check form-check-inline"><input type="radio" class="form-check-input"/> <span class="form-check-label"> </span></label>'),c=i.vUu('<tr><th scope="row"></th><td> </td><td><input type="number" class="form-control"/></td><td><input type="number" class="form-control"/></td><td><input type="number" class="form-control"/></td><td><input type="number" class="form-control"/></td><td><input type="number" class="form-control"/></td></tr>'),h=i.vUu('<tr><th scope="row"></th><td> </td><td> </td><td> </td></tr>'),d=i.vUu('<div style="container-type: inline-size"><div class="my-2" style="width: min(100cqw, 200cqh); height: min(50cqw, 100cqh)"><canvas></canvas></div></div> <h2>Settings</h2> <div class="row row-cols-sm-auto g-3 align-items-center my-2"><div class="col-12"><b>Trajectories</b></div> <div class="col-12"><label class="form-check form-check-inline"><input type="checkbox" class="form-check-input"/> draw path</label></div> <div class="col-12"><input type="number" class="form-control" min="0"/></div></div> <div><b class="me-3">Show velocity</b> <!> <!> <!> <!></div> <div><b class="me-3">Show acceleration</b> <!> <!> <!> <!></div> <h2>Orbs</h2> <h3>Properties <button class="btn btn-outline-primary">Randomize</button></h3> <table class="table table-striped table-bordered table-hover w-auto"><thead><tr><th>Index</th><th>orbitBaseAng</th><th>distX</th><th>distYMin</th><th>distYRange</th><th>baseDistYCycleAng</th><th>distYChangeSpeed</th></tr></thead><tbody></tbody></table> <h3>Kinematics at Time</h3> <input type="number" class="form-control" step="0.1"/> <input type="range" class="form-range" min="0" step="0.001"/> <table class="table table-striped table-bordered table-hover w-auto"><thead><tr><th>Index</th><th>Position</th><th>Velocity</th><th>Acceleration</th></tr></thead><tbody></tbody></table> <h3>Import/Export</h3> <div class="input-group mb-3"><button class="btn btn-outline-primary">Import from JSON</button> <button class="btn btn-outline-danger">Export to JSON</button></div> <textarea class="form-control"></textarea>',1);i.MmH(["mousedown","mousemove","change","click"]);let f=document.getElementById("app");(0,o.Or)(function(t,e){let a;i.VCO(e,!0);let f=[],u=[],p=2*Math.PI,v=["#dc143c","#da70d6","#6666cd","#00bfff","#00ff7f","#ee0","#ff9912","#c67171"],g=n("misc/orbs/orbs",[]),b=n("misc/orbs/drawPaths",!0),Y=n("misc/orbs/drawPathDuration",8),m=n("misc/orbs/modeV",1),J=n("misc/orbs/modeA",1),y=-1,j=i.wk1(""),w=i.wk1(void 0),k=i.wk1(0),M=Date.now(),x=Date.now(),S=i.wk1(0),D=r.Ik({distX:r.ai,distYMin:r.ai,distYRange:r.ai,baseDistYCycleAng:r.ai,distYChangeSpeed:r.ai}),B=r.Ik({orbitDist:D,orbitBaseAng:r.ai,_protected:r.lq(r.zM)}),C=r.Ik({orbs:r.YO(B)});function A(t,e,a){let i=e-a/15,n=Math.abs(Math.cos(t.baseDistYCycleAng+t.distYChangeSpeed*a)),o=t.distYMin+t.distYRange*n;return[t.distX*Math.cos(i),o*Math.sin(i)]}function L(t,e,a){let i=e-a/15,n=t.baseDistYCycleAng+t.distYChangeSpeed*a,o=Math.cos(n),r=Math.abs(o),l=t.distYMin+t.distYRange*r,s=-t.distYRange*Math.sign(o)*Math.sin(n)*t.distYChangeSpeed;return[t.distX*Math.sin(i)/15,-(l*Math.cos(i)/15)+Math.sin(i)*s]}function R(t,e,a){let i=e-a/15,n=t.baseDistYCycleAng+t.distYChangeSpeed*a,o=Math.cos(n),r=Math.abs(o),l=t.distYMin+t.distYRange*r,s=-t.distYRange*Math.sign(o)*Math.sin(n)*t.distYChangeSpeed,c=-t.distYRange*r*t.distYChangeSpeed;return[-(t.distX*Math.cos(i)/225),-(s*Math.cos(i)*2/15)+-(l*Math.sin(i)/225)+Math.sin(i)*c]}function _(t,e){return[t[0]-e[0],t[1]-e[1]]}function T(t,e,a){return _(A(t,e,a+.5),A(t,e,a-.5))}function $(t,e,a){return _(T(t,e,a+.5),T(t,e,a-.5))}function O(t,e,a){return _(T(t,e,a),L(t,e,a))}function P(t,e,a){return _($(t,e,a),R(t,e,a))}function I(){g.value=Array.from({length:24},(t,e)=>({orbitDist:{distX:1200+1e3*Math.random()|0,baseDistYCycleAng:p*Math.random(),distYMin:499.98+(1314.6-499.98)*Math.random(),distYRange:103.464+(775-103.464)*Math.random(),distYChangeSpeed:.01+.01*Math.random()},orbitBaseAng:e*p/24})),y=-1,U()}function E(){i.JtY(k)||(M=Date.now()-(x-M),function t(){i.hZp(k,requestAnimationFrame(t),!0),K()}())}function N(){cancelAnimationFrame(i.JtY(k)),x=Date.now(),i.hZp(k,0),K()}function Z(){i.JtY(w).width=i.JtY(w).parentElement.clientWidth,i.JtY(w).height=i.JtY(w).parentElement.clientHeight}function X(t,e,a,i){t.beginPath(),t.arc(e,a,i,0,p),t.closePath(),t.fill()}function G(t,e,a,i,n,o,r=Math.PI/6){let l=Math.atan2(n-a,i-e);t.beginPath(),t.moveTo(e,a),t.lineTo(i,n),t.lineTo(i-o*Math.cos(l-r),n-o*Math.sin(l-r)),t.moveTo(i,n),t.lineTo(i-o*Math.cos(l+r),n-o*Math.sin(l+r)),t.closePath(),t.stroke()}let q=0;function K(){let t=a;if(!t)return N();q=V?z:((i.JtY(k)?Date.now():x)-M)/1e3;let{width:e,height:n}=i.JtY(w);t.fillStyle="#0d0d0d",t.fillRect(0,0,e,n);let o=e/8e3,r=64*o,l=e/2/o,s=n/2/o;t.lineWidth=2,t.strokeStyle="#0e0e0e";for(let a=-5*e%500-500;a<=e+1;a+=500)t.beginPath(),t.moveTo(a,0),t.lineTo(a,n),t.stroke();for(let a=-5*n%500-500;a<=n+1;a+=500)t.beginPath(),t.moveTo(0,a),t.lineTo(e,a),t.stroke();t.lineWidth=1,t.strokeStyle="#2b2b2b";for(let a=-5*e%500-25.5;a<=e+1;a+=50)t.beginPath(),t.moveTo(a,0),t.lineTo(a,n),t.stroke();for(let a=-5*n%50-25.5;a<=n+1;a+=50)t.beginPath(),t.moveTo(0,a),t.lineTo(e,a),t.stroke();if(t.fillStyle="#ff0",X(t,.5*e,.5*n,80*o),b.value){let e=q-Y.value/2;t.strokeStyle="#777",g.value.forEach(a=>{t.beginPath();for(let i=0;i<=512;i++){let[n,r]=A(a.orbitDist,a.orbitBaseAng,e+i*Y.value/512);t[i?"lineTo":"moveTo"]((n+l)*o,(r+s)*o)}t.stroke()})}g.value.forEach((e,a)=>{let[i,n]=A(e.orbitDist,e.orbitBaseAng,q),c=a%3?-1:+"04361527"[a/3];t.fillStyle=c<0?"#aaa":v[c];let h=(i+l)*o,d=(n+s)*o,f=35+2/3;if(X(t,h,d,25*o),e._protected&&(t.globalAlpha=.75,X(t,h,d,f*o),t.globalAlpha=1),y==a){t.fillStyle="#fff";let e=f-4.5;for(let a=0;a<16;a++){let i=a/16*p+q/2;X(t,h+e*Math.cos(i)*o,d+e*Math.sin(i)*o,4.5*o)}}if(m.value){let[a,c]=[L,T,O][m.value-1](e.orbitDist,e.orbitBaseAng,q),h=m.value>=3?16384:4;t.strokeStyle="#00f",G(t,(i+l)*o,(n+s)*o,(i+a*h+l)*o,(n+c*h+s)*o,r)}if(J.value){let[a,c]=[R,$,P][J.value-1](e.orbitDist,e.orbitBaseAng,q),h=J.value>=3?128:16;t.strokeStyle="#f00",G(t,(i+l)*o,(n+s)*o,(i+a*h+l)*o,(n+c*h+s)*o,r)}c>=0&&(t.font="11px Arial",t.textAlign="center",t.textBaseline="alphabetic",t.fillStyle="#fff",t.fillText(`player${c}`,(i+l)*o,(n+s-80)*o))});let c=.91*n|0,h=.04*e|0,d=(.05*n|0)-2,f=V?W:i.JtY(k);t.lineWidth=4,t.strokeStyle=f?"#7f0000":"#007f00",t.fillStyle="#000",t.strokeRect(2,c,h,d),t.fillRect(2,c,h,d),t.font=`${.012*e}px sans-serif`,t.textAlign="center",t.textBaseline="middle",t.fillStyle="#fff",t.fillText(f?"⏹️":"▶️",.02*e,.935*n),t.textAlign="start",t.fillText(`${q.toFixed(3)}`,.06*e,.935*n);let u=.96*n|0,j=.04*n|0;t.lineWidth=2,t.strokeStyle="#777",t.beginPath(),t.moveTo(0,u),t.lineTo(e,u),t.closePath(),t.stroke(),t.fillStyle="#000",t.fillRect(0,u+1,e,j),t.fillStyle="#f00",t.fillRect(0,u+1,q/600*e,j)}function U(){i.JtY(k)||K()}let V=!1,W=!1,z=0,Q=0,F=0,H=0;(0,o.Rc)(()=>{a=i.JtY(w).getContext("2d"),Z(),(g.value.length?U:I)()});var tt=d();i.f0J("resize",i.xa8,function(){Z(),K()}),i.f0J("mouseup",i.xa8,function(){V&&(M=0,x=1e3*z,V=!1,W&&E())});var te=i.esp(tt),ta=i.jfp(te),ti=i.jfp(ta);ti.__mousedown=function(t){let e,{width:a,height:n}=i.JtY(w),o=t.x-i.JtY(w).getBoundingClientRect().left,r=t.y-i.JtY(w).getBoundingClientRect().top;if(r>.95*n)return void(V=!0,(W=!!i.JtY(k))&&N());if(r>.9*n&&o<.04*a)return void(i.JtY(k)?N:E)();let l=1/0;function s(t,a,i,n){let s=o-a,c=r-i,h=s*s+c*c;h<l&&h<=n*n&&(e=t,l=h)}let c=a/8e3,h=a/2/c,d=n/2/c;s(-1,.5*a,.5*n,80*c),g.value.forEach((t,e)=>{let[a,i]=A(t.orbitDist,t.orbitBaseAng,q);s(e,(a+h)*c,(i+d)*c,25*c)}),void 0!==e&&(y==e&&e>=0&&(g.value[e]._protected=!g.value[e]._protected),y=e,U())},ti.__mousemove=function(t){var e,a;if(!V)return;let{left:n,top:o}=i.JtY(w).getBoundingClientRect(),r=(e=(t.x-n)/i.JtY(w).width,0>e?0:e<1?e:1),l=(a=(t.y-o)/i.JtY(w).height,0>a?0:a<1?a:1);if(l>.95)z=600*(H=r),Q=r,F=1;else{let t=Math.min(l/.95,1),e=Math.pow(t,2.5);l<F&&(H=(z/600-Q*e)/(1-e)),z=(H+(r-H)*e)*600,Q=r,F=t}K()},i.Lcc(ti,t=>i.hZp(w,t),()=>i.JtY(w)),i.cLc(ta),i.cLc(te);var tn=i.hg4(te,4),to=i.hg4(i.jfp(tn),2),tr=i.jfp(to),tl=i.jfp(tr);i.R0j(tl),tl.__change=U,i.K2T(),i.cLc(tr),i.cLc(to);var ts=i.hg4(to,2),tc=i.jfp(ts);i.R0j(tc),tc.__change=U,i.cLc(ts),i.cLc(tn);var th=i.hg4(tn,2);{let t=(t,e=i.lQ1,a=i.lQ1)=>{var n,o=l(),r=i.jfp(o);i.R0j(r),r.__change=U;var s=i.hg4(r,2),c=i.jfp(s,!0);i.cLc(s),i.cLc(o),i.vNg(()=>{n!==(n=e())&&(r.value=(r.__value=e())??""),i.jax(c,a())}),i.CJk(f,[],r,()=>(e(),m.value),t=>m.value=t),i.BCw(t,o)};var td=i.hg4(i.jfp(th),2);t(td,()=>0,()=>"off");var tf=i.hg4(td,2);t(tf,()=>1,()=>"4 * actual");var tu=i.hg4(tf,2);t(tu,()=>2,()=>"4 * approx"),t(i.hg4(tu,2),()=>3,()=>"16384 * (actual - approx)"),i.cLc(th)}var tp=i.hg4(th,2);{let t=(t,e=i.lQ1,a=i.lQ1)=>{var n,o=s(),r=i.jfp(o);i.R0j(r),r.__change=U;var l=i.hg4(r,2),c=i.jfp(l,!0);i.cLc(l),i.cLc(o),i.vNg(()=>{n!==(n=e())&&(r.value=(r.__value=e())??""),i.jax(c,a())}),i.CJk(u,[],r,()=>(e(),J.value),t=>J.value=t),i.BCw(t,o)};var tv=i.hg4(i.jfp(tp),2);t(tv,()=>0,()=>"off");var tg=i.hg4(tv,2);t(tg,()=>1,()=>"16 * actual");var tb=i.hg4(tg,2);t(tb,()=>2,()=>"16 * approx"),t(i.hg4(tb,2),()=>3,()=>"128 * (approx - actual)"),i.cLc(tp)}var tY=i.hg4(tp,4);i.hg4(i.jfp(tY)).__click=I,i.cLc(tY);var tm=i.hg4(tY,2),tJ=i.hg4(i.jfp(tm));i.__1(tJ,21,()=>g.value,i.Pe0,(t,e,a)=>{var n=c(),o=i.jfp(n);o.textContent=a;var r=i.hg4(o),l=i.jfp(r);i.cLc(r);var s=i.hg4(r),h=i.jfp(s);i.R0j(h),i.cLc(s);var d=i.hg4(s),f=i.jfp(d);i.R0j(f),i.cLc(d);var u=i.hg4(d),p=i.jfp(u);i.R0j(p),i.cLc(u);var v=i.hg4(u),b=i.jfp(v);i.R0j(b),i.cLc(v);var Y=i.hg4(v),m=i.jfp(Y);i.R0j(m),i.cLc(Y),i.cLc(n),i.vNg(()=>i.jax(l,`${a}/${g.value.length??""} τ`)),i.oJB(h,()=>i.JtY(e).orbitDist.distX,t=>i.JtY(e).orbitDist.distX=t),i.oJB(f,()=>i.JtY(e).orbitDist.distYMin,t=>i.JtY(e).orbitDist.distYMin=t),i.oJB(p,()=>i.JtY(e).orbitDist.distYRange,t=>i.JtY(e).orbitDist.distYRange=t),i.oJB(b,()=>i.JtY(e).orbitDist.baseDistYCycleAng,t=>i.JtY(e).orbitDist.baseDistYCycleAng=t),i.oJB(m,()=>i.JtY(e).orbitDist.distYChangeSpeed,t=>i.JtY(e).orbitDist.distYChangeSpeed=t),i.BCw(t,n)}),i.cLc(tJ),i.cLc(tm);var ty=i.hg4(tm,4);i.R0j(ty);var tj=i.hg4(ty,2);i.R0j(tj),i.aIK(tj,"max",600);var tw=i.hg4(tj,2),tk=i.hg4(i.jfp(tw));i.__1(tk,21,()=>g.value,i.Pe0,(t,e,a)=>{let n=i.unG(()=>A(i.JtY(e).orbitDist,i.JtY(e).orbitBaseAng,i.JtY(S))),o=i.unG(()=>L(i.JtY(e).orbitDist,i.JtY(e).orbitBaseAng,i.JtY(S))),r=i.unG(()=>T(i.JtY(e).orbitDist,i.JtY(e).orbitBaseAng,i.JtY(S))),l=i.unG(()=>_(i.JtY(r),i.JtY(o))),s=i.unG(()=>R(i.JtY(e).orbitDist,i.JtY(e).orbitBaseAng,i.JtY(S))),c=i.unG(()=>$(i.JtY(e).orbitDist,i.JtY(e).orbitBaseAng,i.JtY(S))),d=i.unG(()=>_(i.JtY(c),i.JtY(s)));var f=h(),u=i.jfp(f);u.textContent=a;var p=i.hg4(u),v=i.jfp(p);i.cLc(p);var g=i.hg4(p),b=i.jfp(g);i.cLc(g);var Y=i.hg4(g),m=i.jfp(Y);i.cLc(Y),i.cLc(f),i.vNg(()=>{i.jax(v,`${i.JtY(n)[0]??""}, ${i.JtY(n)[1]??""}`),i.aIK(g,"title",`approx
(${i.JtY(r)[0]??""}, ${i.JtY(r)[1]??""})
actual
(${i.JtY(o)[0]??""}, ${i.JtY(o)[1]??""})
error
(${i.JtY(l)[0]??""}, ${i.JtY(l)[1]??""})`),i.jax(b,`${i.JtY(o)[0]??""}, ${i.JtY(o)[1]??""}`),i.aIK(Y,"title",`approx
(${i.JtY(c)[0]??""}, ${i.JtY(c)[1]??""})
actual
(${i.JtY(s)[0]??""}, ${i.JtY(s)[1]??""})
error
(${i.JtY(d)[0]??""}, ${i.JtY(d)[1]??""})`),i.jax(m,`${i.JtY(s)[0]??""}, ${i.JtY(s)[1]??""}`)}),i.BCw(t,f)}),i.cLc(tk),i.cLc(tw);var tM=i.hg4(tw,4),tx=i.jfp(tM);tx.__click=function(){try{let t=JSON.parse(i.JtY(j));g.value=C.verify(t,r.KS).orbs,y=-1}catch(t){alert(t)}},i.hg4(tx,2).__click=function(){i.hZp(j,JSON.stringify({orbs:g.value}),!0)},i.cLc(tM);var tS=i.hg4(tM,2);i.VUN(tS),i.mST(tl,()=>b.value,t=>b.value=t),i.oJB(tc,()=>Y.value,t=>Y.value=t),i.oJB(ty,()=>i.JtY(S),t=>i.hZp(S,t)),i.oJB(tj,()=>i.JtY(S),t=>i.hZp(S,t)),i.oJB(tS,()=>i.JtY(j),t=>i.hZp(j,t)),i.BCw(t,tt),i.uYY()},{target:f}),document.getElementById("appLoading")?.remove()}},e={};function a(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,a),o.exports}a.m=t,a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=[];a.O=(e,i,n,o)=>{if(i){o=o||0;for(var r=t.length;r>0&&t[r-1][2]>o;r--)t[r]=t[r-1];t[r]=[i,n,o];return}for(var l=1/0,r=0;r<t.length;r++){for(var[i,n,o]=t[r],s=!0,c=0;c<i.length;c++)(!1&o||l>=o)&&Object.keys(a.O).every(t=>a.O[t](i[c]))?i.splice(c--,1):(s=!1,o<l&&(l=o));if(s){t.splice(r--,1);var h=n();void 0!==h&&(e=h)}}return e}})(),a.rv=()=>"1.5.1",(()=>{var t={104:0};a.O.j=e=>0===t[e];var e=(e,i)=>{var n,o,[r,l,s]=i,c=0;if(r.some(e=>0!==t[e])){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var h=s(a)}for(e&&e(i);c<r.length;c++)o=r[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(h)},i=self.webpackChunkvwww=self.webpackChunkvwww||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),a.ruid="bundler=rspack@1.5.1";var i=a.O(void 0,["1","2","5","13","28","4","3","17","31","58"],function(){return a(149)});i=a.O(i)})();