"use strict";(self.webpackChunkvwww=self.webpackChunkvwww||[]).push([["34"],{117:function(t,e,s){s.d(e,{Ay:()=>i,Oo:()=>o,xF:()=>a});var n,a,r=s(2);(n=a||(a={}))[n.None=0]="None",n[n.AfterNext=1]="AfterNext",n[n.All=2]="All";class i{maxChatMessages;messageBuf=[];queue=[];holdMode=a.None;#t=r.wk1(r.BXG(this.messageBuf));get messages(){return r.JtY(this.#t)}set messages(t){r.hZp(this.#t,t,!0)}#e=r.wk1(0);get queueLength(){return r.JtY(this.#e)}set queueLength(t){r.hZp(this.#e,t,!0)}constructor(t=100){this.maxChatMessages=t}clear(){this.messageBuf.length=0,this.queue.length=0,this.queueLength=0,this.invalidate()}addEntry(t){switch(this.holdMode){case a.None:this.messageBuf.length>=this.maxChatMessages&&this.messageBuf.shift(),this.messageBuf.push(t),this.invalidate();break;case a.AfterNext:this.messageBuf.push(t),this.invalidate(),this.holdMode=a.All;break;case a.All:this.queue.length>=this.maxChatMessages&&this.queue.shift(),this.queue.push(t),this.queueLength++}}setHoldMode(t){if(t===a.AfterNext&&this.queueLength>this.maxChatMessages&&(t=a.All),this.holdMode=t,this.queue.length)if(t===a.None){let t=Math.max(0,this.messageBuf.length+this.queue.length-this.maxChatMessages);t&&this.messageBuf.splice(0,t),this.messageBuf.push(...this.queue),this.queue.length=0,this.invalidate(),this.queueLength=0}else t===a.AfterNext&&(this.messageBuf.push(this.queue.shift()),this.invalidate(),this.queueLength--);else if(t===a.None){let t=this.messageBuf.length-this.maxChatMessages;t>0&&(this.messageBuf.splice(0,t),this.invalidate())}}playerJoined(t){this.addEntry({type:"join",name:t})}playerLeft(t){this.addEntry({type:"left",name:t})}playerReset(t){this.addEntry({type:"reset",name:t})}playerRename(t,e){this.addEntry({type:"rename",oldName:t,newName:e})}addChatMessage(t,e,s,n){this.addEntry({type:"chat",name:t,msg:e,flags:s,targetName:n})}addSysMessage(t){this.addEntry({type:"sys",msg:t})}invalidate(){this.messages=this.messageBuf}}function o(t,e){function s(e,s,n){if(!t.room)return void t.chat.addSysMessage("cannot send chat message: not connected to game room");t.sendChat(e,s,n)}if(e.length>0&&"/"===e[0]){let n=e.indexOf(" ",1),[a,r]=n<0?[e.slice(1),""]:[e.slice(1,n),e.slice(n+1)],i=!1;switch(a){case"me":i=!0;case"say":r&&s(r,4*!!i|0);break;case"meteam":i=!0;case"sayteam":r&&s(r,4*!!i|2);break;case"mew":case"mewhisper":case"mepm":i=!1;case"w":case"whisper":case"pm":{if(!r)break;let t=-1,e=0,n=/^(\d+)\s+/.exec(r);if(n){let s=n[1];t=+s,e=s.length}r.length>e&&s(r.slice(e),4*!!i|1,t);break}case"leave":case"disconnect":t.leaveGame();break;case"":case"help":"say"===r?t.chat.addSysMessage("without / prefix, use shorthand prefixes: *?(@\\d+|%|) say (*me) @pm|%team|all"):t.chat.addSysMessage("supported commands: say, me, sayteam, meteam, w, whisper, pm, mew, mewhisper, mepm, leave, disconnect, help");break;default:t.chat.addSysMessage(`command not recognized: ${e}`)}}else{let t=0,n=-1,a=0;if(e.length>1&&"*"===e[0]&&(a++,t|=4),e.length>a)switch(e[a]){case"@":if(e.length>a+1){let s=/^(\d+)\s+/.exec(e.slice(a+1));if(s){let e=s[1];n=+e,a=a+1+e.length,t|=1}}break;case"%":t|=2,a++}e.length>a&&s(e.slice(a),t,n)}}},129:function(t,e,s){s.d(e,{JK:()=>l,qh:()=>c,vE:()=>o});var n=s(2),a=s(127),r=s(128),i=s(130);class o{#s=n.wk1(-1);get cn(){return n.JtY(this.#s)}set cn(t){n.hZp(this.#s,t,!0)}#n=n.wk1("unnamed");get name(){return n.JtY(this.#n)}set name(t){n.hZp(this.#n,t,!0)}#a=n.wk1(!1);get active(){return n.JtY(this.#a)}set active(t){n.hZp(this.#a,t,!0)}#r=n.wk1(0);get rank(){return n.JtY(this.#r)}set rank(t){n.hZp(this.#r,t,!0)}#i=n.wk1(-1);get ping(){return n.JtY(this.#i)}set ping(t){n.hZp(this.#i,t,!0)}formatName(){return`${this.name} (${this.cn})`}readWelcome(t){this.active=t.getBool(),this.name=(0,a.iw)(t.getString(20)),this.ping=t.getInt()}}class c{chat;PROTOCOL_VERSION=0;#o=n.wk1();get room(){return n.JtY(this.#o)}set room(t){n.hZp(this.#o,t,!0)}localClient;clients=[];#c=n.wk1(n.BXG([]));get leaderboard(){return n.JtY(this.#c)}set leaderboard(t){n.hZp(this.#c,t,!0)}constructor(t){this.chat=t,this.localClient=this.newClient(),setTimeout(a.yn,100)}setupGame(t){this.room?.disconnect(),this.room=t,t.registerRecv(e=>{if(this.room===t){let t=new r.k(e);try{for(;t.remaining>0;){let e=t.getInt(),s=this.MESSAGE_HANDLERS[e];if(!s)throw Error("tag type "+e);s.call(this,t)}}catch(e){console.error("neterr",e),console.log(t.debugBuf,t),this.room.disconnect()}}}),t.registerDisc(()=>{this.room===t?(this.chat.addSysMessage("You disconnected."),this.room=void 0):this.chat.addSysMessage("You disconnected from the old room.")}),this.chat.addSysMessage("You are joining the game.")}leaveGame(){this.room?.disconnect()}sendf(t,...e){this.room?.send(new i.U().putFmt(t,...e).toArray())}updatePlayers(){this.leaderboard=(0,a.yh)(this.clients,this.playersSortProps)}processWelcome(t){let e=t.getInt();e!==this.PROTOCOL_VERSION&&alert(`different protocol version (client: ${this.PROTOCOL_VERSION}, server: ${e})
refresh the page for updates?`),this.clients.length=0;let s=t.getCN();this.processWelcomeMode(t);for(let e=0;e<=a.iq;e++){let e=t.getCN();if(e<0)break;let n=e==s?this.localClient:this.newClient();n.cn=e,n.readWelcome(t),this.clients[e]=n}this.processWelcomeGame(t),this.updatePlayers()}processJoin(t){let e=t.getCN(),s=(0,a.iw)(t.getString(20));if(this.clients[e])throw Error("invalid join cn "+e);let n=this.newClient();n.cn=e,n.name=s,this.clients[e]=n,this.chat.playerJoined(n.formatName()),this.updatePlayers()}processLeave(t){let e=t.getCN(),s=this.clients[e];if(!s)throw Error("invalid leave cn "+e);s.active&&this.playerDeactivated(s),this.chat.playerLeft(s.formatName()),delete this.clients[e],this.updatePlayers()}processReset(t){let e=t.getCN(),s=this.clients[e];if(!s)throw Error("invalid reset cn "+e);s.resetScore(),this.updatePlayers(),this.chat.playerReset(s.formatName())}processRename(t){let e=t.getCN(),s=(0,a.iw)(t.getString(20)),n=this.clients[e];if(!n)throw Error("invalid rename cn "+e);this.chat.playerRename(n.formatName(),s),n.name=s}processPing(t){this.sendPong(t.getInt())}processPingTime(t){for(let e=0;e<=a.iq;e++){let e=t.getCN();if(e<0)break;let s=t.getInt(),n=this.clients[e];if(!n)throw Error("invalid ping cn "+e);n.ping=s}}processChat(t){let e=t.getCN(),s=t.getInt(),n=t.getInt(),r=t.getString(100),i=this.clients[e],o=(0,a.M0)(i,e),c=this.clients[n],l=c?i===this.localClient?"you":(0,a.M0)(c,n):void 0;this.chat.addChatMessage(o,r,s,l)}processActive(t){let e=t.getCN(),s=this.clients[e];if(!s)throw Error("invalid active cn "+e);(s.active=!s.active)?this.playerActivated(s):this.playerDeactivated(s),this.updatePlayers()}}function l(t){return t.slice(0,100)}},126:function(t,e,s){s.d(e,{Nd:()=>l,mk:()=>a,wG:()=>c});var n,a,r=s(2),i=s(127),o=s(129);(n=a||(a={}))[n.WAITING=0]="WAITING",n[n.INTERMISSION=1]="INTERMISSION",n[n.ACTIVE=2]="ACTIVE";class c extends o.vE{#l=r.wk1(!1);get ready(){return r.JtY(this.#l)}set ready(t){r.hZp(this.#l,t,!0)}#u=r.wk1(!1);get inRound(){return r.JtY(this.#u)}set inRound(t){r.hZp(this.#u,t,!0)}readWelcome(t){super.readWelcome(t),this.ready=!1,this.inRound=!1}}class l extends o.qh{#h=r.wk1(r.BXG(a.WAITING));get roundState(){return r.JtY(this.#h)}set roundState(t){r.hZp(this.#h,t,!0)}#d=r.wk1(0);get roundTimerStart(){return r.JtY(this.#d)}set roundTimerStart(t){r.hZp(this.#d,t,!0)}#p=r.wk1(0);get roundTimerEnd(){return r.JtY(this.#p)}set roundTimerEnd(t){r.hZp(this.#p,t,!0)}#m=r.unG(()=>this.localClient.active&&this.roundState==a.ACTIVE&&this.localClient.inRound);get playing(){return r.JtY(this.#m)}set playing(t){r.hZp(this.#m,t)}#g=r.wk1(r.BXG([]));get roundPlayers(){return r.JtY(this.#g)}set roundPlayers(t){r.hZp(this.#g,t,!0)}#f=r.wk1(r.BXG([]));get roundPlayerQueue(){return r.JtY(this.#f)}set roundPlayerQueue(t){r.hZp(this.#f,t,!0)}#v=r.wk1(r.BXG([]));get pastGames(){return r.JtY(this.#v)}set pastGames(t){r.hZp(this.#v,t,!0)}addHistory(t){this.pastGames.length>=100&&this.pastGames.pop(),this.pastGames.unshift(t)}clearHistory(){this.pastGames=[]}processWelcomeGame(t){let e=t.getInt();if(0===e)this.roundWait();else if(1===e){this.roundIntermission(t.getInt(),this.INTERMISSION_TIME);for(let e=0;e<=i.iq;e++){let e=t.getCN();if(e<0)break;let s=this.clients[e];if(!s)throw Error("invalid welcome round ready cn "+e);s.ready=!0}}else 2===e&&this.roundStart(t.getInt(),this.ROUND_TIME);let s=[];for(let e=0;e<=i.iq;e++){let e=t.getCN();if(e<0)break;let n=this.clients[e];if(!n)throw Error("invalid welcome round player cn "+e);n.inRound=!0,s.push(n)}this.roundPlayers=s;let n=[];for(let e=0;e<=i.iq;e++){let e=t.getCN();if(e<0)break;let s=this.clients[e];if(!s)throw Error("invalid welcome round queue cn "+e);n.push(s)}this.roundPlayerQueue=n}processRoundWait(t){this.roundWait()}processRoundInterm(t){this.roundIntermission(this.INTERMISSION_TIME)}processRoundStart(t){this.unsetInRound();let e=[];for(let s=0;s<=i.iq;s++){let s=t.getCN();if(s<0)break;let n=this.clients[s];if(!n)throw Error("invalid round start player cn "+s);n.inRound=!0,e.push(n)}this.roundPlayers=e,this.roundPlayerQueue=[],this.roundStart(this.ROUND_TIME)}processReady(t){let e=t.getCN(),s=this.clients[e];if(!s)throw Error("invalid ready cn "+e);s.ready=!s.ready}roundWait(){this.roundState=a.WAITING,this.unsetReady()}roundIntermission(t,e){this.roundState=a.INTERMISSION,this.setTimer(t,e),this.unsetReady()}roundStart(t,e){this.roundState=a.ACTIVE,this.setTimer(t,e),this.unsetReady()}setTimer(t,e=t){let s=Date.now()+t;this.roundTimerStart=s-Math.max(e,t),this.roundTimerEnd=s}unsetReady(){this.clients.forEach(t=>t.ready=!1)}unsetInRound(){this.clients.forEach(t=>t.inRound=!1)}playerActivated(t){this.roundPlayerQueue.push(t)}playerDeactivated(t){this.roundPlayers=this.roundPlayers.filter(e=>e!==t),this.roundPlayerQueue=this.roundPlayerQueue.filter(e=>e!==t),t.inRound=!1}}},101:function(t,e,s){s.d(e,{C:()=>a});var n=s(2);function a(t,e,s=!1){let r=n.wk1(n.BXG(e));function i(t){return"undefined"===t?void 0:JSON.parse(t)}if(window.localStorage){let a=localStorage.getItem(t);null!==a&&n.hZp(r,i(a),!0),n.MWq(()=>localStorage.setItem(t,void 0===n.JtY(r)?"undefined":JSON.stringify(n.JtY(r)))),s&&window.addEventListener("storage",s=>s.storageArea===localStorage&&s.key===t&&n.hZp(r,null==s.newValue?e:i(s.newValue),!0))}return{get value(){return n.JtY(r)},set value(newVal){n.hZp(r,newVal,!0)}}}},116:function(t,e,s){s.d(e,{A:()=>J}),s(1);var n=s(2),a=s(5),r=s(117);function i(t,e){13===t.which&&e()}var o=(t,e,s)=>e.setHoldMode(n.hZp(s,0)),c=(t,e)=>e.clear(),l=n.vUu("<span><strong> </strong> joined the game.</span>"),u=n.vUu("<span><strong> </strong> left the game.</span>"),h=n.vUu("<span><strong> </strong> reset stats.</span>"),d=n.vUu("<span> <strong> </strong>.</span>"),p=n.vUu('<span class="badge text-bg-secondary"> </span>'),m=n.vUu('<small class="text-muted"><del> </del></small> <span class="text-danger">(do not spam!)</span>',1),g=n.vUu('(to <span class="badge text-bg-primary"> </span>)',1),f=n.vUu('(to <span class="badge text-bg-info">TEAM</span>)',1),v=n.vUu("<span><!> <!> <!></span>"),b=n.vUu("<span><em> </em></span>"),w=n.vUu("<span> </span>"),y=n.vUu('<li class="list-group-item"><!></li>'),Y=n.vUu(`<div class="card"><div class="card-header"><h4 class="float-start"> </h4> <div class="float-end"><button> </button> <button>Clear</button></div></div> <ul class="list-group list-group-flush"><!> <li>Scroll down to resume autoscroll</li></ul> <div class="card-footer"><div class="input-group"><input type="text" class="form-control" placeholder="Enter a message here…"/> <button class="btn btn-outline-primary">Send</button></div></div></div>`);function J(t,e){let s,J,C;n.VCO(e,!0);let{title:j="Chat",height:k="20rem",chatState:L,onInput:N=console.log}=n.iRd(e,["$$slots","$$events","$$legacy"]),x=n.unG(()=>L.queueLength),B=n.unG(()=>L.messages),I=n.wk1(void 0),R=n.wk1(void 0),_=n.wk1(n.BXG(r.xF.None)),U=n.wk1("");function S(){n.JtY(_)||n.JtY(I)?.scrollTo(0,n.JtY(I).scrollHeight)}function T(){N(n.JtY(U)),n.hZp(U,"")}n.Goy(()=>{n.JtY(B),(0,a.io)().then(S)});var G=Y(),A=n.jfp(G),E=n.jfp(A),M=n.jfp(E,!0);n.cLc(E);var P=n.hg4(E,2),O=n.jfp(P);O.__click=[o,L,_];var q=n.jfp(O);n.cLc(O);var $=n.hg4(O,2);$.__click=[c,L],n.cLc(P),n.cLc(A);var Z=n.hg4(A,2),D=n.jfp(Z);n.__1(D,17,()=>n.JtY(B),n.Pe0,(t,e)=>{var s=y(),a=n.jfp(s),r=t=>{var s=l(),a=n.jfp(s),r=n.jfp(a,!0);n.cLc(a),n.K2T(),n.cLc(s),n.vNg(()=>n.jax(r,n.JtY(e).name)),n.BCw(t,s)},i=t=>{var s=n.Imx(),a=n.esp(s),r=t=>{var s=u(),a=n.jfp(s),r=n.jfp(a,!0);n.cLc(a),n.K2T(),n.cLc(s),n.vNg(()=>n.jax(r,n.JtY(e).name)),n.BCw(t,s)},i=t=>{var s=n.Imx(),a=n.esp(s),r=t=>{var s=h(),a=n.jfp(s),r=n.jfp(a,!0);n.cLc(a),n.K2T(),n.cLc(s),n.vNg(()=>n.jax(r,n.JtY(e).name)),n.BCw(t,s)},i=t=>{var s=n.Imx(),a=n.esp(s),r=t=>{var s=d(),a=n.jfp(s),r=n.hg4(a),i=n.jfp(r,!0);n.cLc(r),n.K2T(),n.cLc(s),n.vNg(()=>{n.jax(a,`${n.JtY(e).oldName??""} is now known as `),n.jax(i,n.JtY(e).newName)}),n.BCw(t,s)},i=t=>{var s=n.Imx(),a=n.esp(s),r=t=>{var s=v(),a=n.jfp(s),r=t=>{var s=n.Qq7();n.vNg(()=>n.jax(s,`* ${n.JtY(e).name??""}`)),n.BCw(t,s)},i=t=>{var s=p(),a=n.jfp(s,!0);n.cLc(s),n.vNg(()=>n.jax(a,n.JtY(e).name)),n.BCw(t,s)};n.if(a,t=>{4&n.JtY(e).flags?t(r):t(i,!1)});var o=n.hg4(a,2),c=t=>{var s=m(),a=n.esp(s),r=n.jfp(a),i=n.jfp(r,!0);n.cLc(r),n.cLc(a),n.K2T(2),n.vNg(()=>n.jax(i,n.JtY(e).msg)),n.BCw(t,s)},l=t=>{var s=n.Qq7();n.vNg(()=>n.jax(s,n.JtY(e).msg)),n.BCw(t,s)};n.if(o,t=>{8&n.JtY(e).flags?t(c):t(l,!1)});var u=n.hg4(o,2),h=t=>{var s=g(),a=n.hg4(n.esp(s)),r=n.jfp(a,!0);n.cLc(a),n.K2T(),n.vNg(()=>n.jax(r,n.JtY(e).targetName)),n.BCw(t,s)},d=t=>{var s=n.Imx(),a=n.esp(s),r=t=>{var e=f();n.K2T(2),n.BCw(t,e)};n.if(a,t=>{(3&n.JtY(e).flags)==2&&t(r)},!0),n.BCw(t,s)};n.if(u,t=>{n.JtY(e).targetName?t(h):t(d,!1)}),n.cLc(s),n.BCw(t,s)},i=t=>{var s=n.Imx(),a=n.esp(s),r=t=>{var s=b(),a=n.jfp(s),r=n.jfp(a,!0);n.cLc(a),n.cLc(s),n.vNg(()=>n.jax(r,n.JtY(e).msg)),n.BCw(t,s)},i=t=>{var s=w(),a=n.jfp(s,!0);n.cLc(s),n.vNg(()=>n.jax(a,n.JtY(e))),n.BCw(t,s)};n.if(a,t=>{"sys"===n.JtY(e).type?t(r):t(i,!1)},!0),n.BCw(t,s)};n.if(a,t=>{"chat"===n.JtY(e).type?t(r):t(i,!1)},!0),n.BCw(t,s)};n.if(a,t=>{"rename"===n.JtY(e).type?t(r):t(i,!1)},!0),n.BCw(t,s)};n.if(a,t=>{"reset"===n.JtY(e).type?t(r):t(i,!1)},!0),n.BCw(t,s)};n.if(a,t=>{"left"===n.JtY(e).type?t(r):t(i,!1)},!0),n.BCw(t,s)};n.if(a,t=>{"join"===n.JtY(e).type?t(r):t(i,!1)}),n.cLc(s),n.BCw(t,s)});var V=n.hg4(D,2);n.Lcc(V,t=>n.hZp(R,t),()=>n.JtY(R)),n.cLc(Z),n.Lcc(Z,t=>n.hZp(I,t),()=>n.JtY(I));var K=n.hg4(Z,2),Q=n.jfp(K),H=n.jfp(Q);n.R0j(H),H.__keydown=[i,T],n.hg4(H,2).__click=T,n.cLc(Q),n.cLc(K),n.cLc(G),n.vNg((t,e,a)=>{n.jax(M,j),s=n.ysU(O,1,"btn btn-sm btn-info",null,s,t),n.jax(q,`${n.JtY(x)??""} new`),J=n.ysU($,1,"btn btn-sm btn-danger",null,J,e),n.hgi(Z,`overflow-y: scroll; height: ${k??""}`),C=n.ysU(V,1,"list-group-item text-bg-warning text-center",null,C,a)},[()=>({"d-none":!n.JtY(x)&&!n.JtY(_)}),()=>({"d-none":!n.JtY(B).length}),()=>({"d-none":!n.JtY(_)})]),n.f0J("scroll",Z,function(){let t=n.JtY(I)&&n.JtY(R)&&n.JtY(I).offsetHeight+n.JtY(I).scrollTop>n.JtY(I).scrollHeight-n.JtY(R).offsetHeight?n.JtY(I).offsetHeight+n.JtY(I).scrollTop>n.JtY(I).scrollHeight-1?r.xF.None:r.xF.AfterNext:r.xF.All;n.JtY(_)!==t&&(n.hZp(_,t,!0),L.setHoldMode(t))}),n.oJB(H,()=>n.JtY(U),t=>n.hZp(U,t)),n.BCw(t,G),n.uYY()}n.MmH(["click","keydown"])},118:function(t,e,s){s.d(e,{A:()=>r}),s(1);var n=s(2),a=n.vUu('<div class="card mb-3"><div class="card-header"><h4 class="float-start">Past Games</h4> <button>Clear</button></div> <!></div>');function r(t,e){let s;var r=a(),i=n.jfp(r),o=n.hg4(n.jfp(i),2);o.__click=function(...t){e.onClear?.apply(this,t)},n.cLc(i);var c=n.hg4(i,2);n.UAl(c,()=>e.children),n.cLc(r),n.vNg(t=>s=n.ysU(o,1,"btn btn-sm btn-danger float-end",null,s,t),[()=>({"d-none":!e.canClear})]),n.BCw(t,r)}n.MmH(["click"])},119:function(t,e,s){s.d(e,{A:()=>l}),s(1);var n=s(2),a=n.vUu('<th scope="col"> </th>'),r=n.vUu("<td> </td>"),i=n.vUu('<tr><th scope="row"> </th><td> </td><!><td> </td></tr>'),o=n.vUu('<tr class="table-secondary"><td class="text-center">nobody</td></tr>'),c=n.vUu('<div class="card mb-3"><div class="card-header"><h4 class="float-start">Leaderboard</h4> <label class="form-check float-end"><input type="checkbox" class="form-check-input"/> <span class="form-check-label">show spectators</span></label></div> <div class="table-responsive" style="max-height: 20rem"><table class="table table-sm"><tbody><tr><th scope="col">Name</th><th scope="col">Rank</th><!><th scope="col">Ping</th></tr><!></tbody></table></div></div>');function l(t,e){n.VCO(e,!0);let s=n._w2(e,"columns",19,()=>[]),l=n.wk1(!0);var u=c(),h=n.jfp(u),d=n.hg4(n.jfp(h),2),p=n.jfp(d);n.R0j(p),n.K2T(2),n.cLc(d),n.cLc(h);var m=n.hg4(h,2),g=n.jfp(m),f=n.jfp(g),v=n.jfp(f),b=n.hg4(n.jfp(v),2);n.__1(b,17,s,n.Pe0,(t,e)=>{var s=a(),r=n.jfp(s,!0);n.cLc(s),n.vNg(()=>n.jax(r,n.JtY(e)[0])),n.BCw(t,s)}),n.K2T(),n.cLc(v);var w=n.hg4(v);n.__1(w,17,()=>e.leaderboard,n.Pe0,(t,a)=>{let o=n.unG(()=>n.JtY(a)===e.localClient),c=n.unG(()=>{let{active:t}=n.JtY(a);return{active:t}});var u=n.Imx(),h=n.esp(u),d=t=>{let e;var l=i(),u=n.jfp(l),h=n.jfp(u);n.cLc(u);var d=n.hg4(u),p=n.jfp(d,!0);n.cLc(d);var m=n.hg4(d);n.__1(m,17,s,n.Pe0,(t,e)=>{var s=r(),i=n.jfp(s,!0);n.cLc(s),n.vNg(t=>n.jax(i,t),[()=>(function(t){if("object"==typeof t){if(!t[1])return t[0];let e="bigint"==typeof t[0]?Number(1000000n*t[0]/t[1])/1e4:100*t[0]/t[1];return`${t[0]} (${e.toPrecision(3)}%)`}return t})(n.JtY(e)[1](n.JtY(a)))]),n.BCw(t,s)});var g=n.hg4(m),f=n.jfp(g,!0);n.cLc(g),n.cLc(l),n.vNg(t=>{e=n.ysU(l,1,"",null,e,t),n.jax(h,`${n.JtY(a).name??""} (${n.JtY(a).cn??""})`),n.jax(p,n.JtY(a).rank),n.jax(f,n.JtY(a).ping<0?"?":n.JtY(a).ping)},[()=>({"table-info":n.JtY(o)&&n.JtY(c).active,"table-warning":n.JtY(o)&&!n.JtY(c).active,"table-secondary":!n.JtY(o)&&!n.JtY(c).active})]),n.BCw(t,l)};n.if(h,t=>{(n.JtY(l)||n.JtY(o)||n.JtY(c).active)&&t(d)}),n.BCw(t,u)},t=>{var e=o(),a=n.jfp(e);n.cLc(e),n.vNg(()=>n.aIK(a,"colspan",3+s().length)),n.BCw(t,e)}),n.cLc(f),n.cLc(g),n.cLc(m),n.cLc(u),n.mST(p,()=>n.JtY(l),t=>n.hZp(l,t)),n.BCw(t,u),n.uYY()}},120:function(t,e,s){s.d(e,{A:()=>r}),s(1);var n=s(2),a=n.vUu('<div class="input-group mb-3"><span class="input-group-text">Name</span> <input type="text" class="form-control"/></div>');function r(t,e){n.VCO(e,!0);let s=n._w2(e,"value",15),r=n._w2(e,"placeholder",3,"unnamed"),i=n._w2(e,"maxlength",3,20);var o=a(),c=n.hg4(n.jfp(o),2);n.R0j(c),n.cLc(o),n.vNg(()=>{n.aIK(c,"placeholder",r()),n.aIK(c,"maxlength",i())}),n.oJB(c,s),n.BCw(t,o),n.uYY()}},123:function(t,e,s){s.d(e,{A:()=>I}),s(1);var n=s(2),a=n.vUu("<small>*</small>"),r=n.vUu('<div><label><span> <!></span> <span class="form-check form-switch"><input type="checkbox"/> <small class="form-check-label text-muted"> </small></span></label></div>'),i=n.vUu("<small>*</small>"),o=n.vUu('<label class="form-check form-check-inline"><input type="radio"/> <span class="form-check-label"> </span></label>'),c=n.vUu('<div><span> <!></span> <div><small class="text-muted"> </small></div> <!></div>'),l=n.vUu("<small>*</small>"),u=n.vUu('<div><label class="w-100"><span> <small class="text-muted"> <!>]</small><!></span> <small class="text-muted d-block"> </small> <input/> <input/></label></div>'),h=s(124),d=s(5),p=(t,e,s)=>(e(),s.onRefresh()),m=(t,e)=>n.hZp(e,!n.JtY(e)),g=n.vUu('<div class="modal-footer"><button class="btn btn-danger me-auto">Reset</button> <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> <button class="btn btn-primary" data-bs-dismiss="modal">Create</button></div>'),f=n.vUu('<div class="card mb-3"><div class="card-header"><h4 class="float-start"> </h4> <div class="float-end"><button class="btn btn-sm btn-secondary"><div></div> Refresh</button> <button> </button> <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#newRoomModal">New</button></div></div> <div style="overflow-y: scroll; height: 50vh"><!> <!></div></div> <div class="modal" id="newRoomModal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">New room</h5> <div class="ms-auto"><button class="btn btn-sm btn-danger">Reset</button> <button class="btn btn-sm btn-primary" data-bs-dismiss="modal">Create</button> <button class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div></div> <div class="modal-body"><!></div> <!></div></div></div>',1);n.MmH(["click"]);class v{c;id;constructor(t,e){this.c=t,this.id=e}get connected(){return this.c.connected}disconnect(){this.c.disconnect()}}class b{room;msgCallbacks=[];discCallbacks=[];constructor(t){this.room=t;let e=e=>{let s;if(!e.length){console.log("neterr: empty message",e),t.disconnect();return}try{s=e.getByteArray(0)}catch{console.log("neterr: first item is not byte array",e),t.disconnect();return}let n=Uint8Array.from(s);this.msgCallbacks.forEach(t=>t(n))},s=()=>{this.discCallbacks.forEach(t=>t()),t.c.removeMessageCallback(e),setTimeout(()=>t.c.removeDisconnectCallback(s),1)};t.c.addMessageCallback("",e),t.c.addDisconnectCallback(s)}get id(){return this.room.id}get connected(){return this.room.connected}disconnect(){this.room.disconnect()}send(t){this.room.c.send("",t)}registerRecv(t){this.msgCallbacks.push(t)}registerDisc(t){this.discCallbacks.push(t)}}s(125);class w{curConn;curConnId;static thenDisconnect(t){t.then(t=>t.disconnect())}async connect(t,e){if(e)for(;this.curConn&&e===this.curConnId;)try{return await this.curConn}catch{}this.curConnId=e;try{let e=this.curConn,s=await (this.curConn=t());return e&&w.thenDisconnect(e),s}catch(t){throw this.curConn=this.curConnId=void 0,t}}cancel(){this.curConn&&(w.thenDisconnect(this.curConn),this.curConn=this.curConnId=void 0)}}class y{client;cm=new w;constructor(t,e){this.client=t,this.client.multiplayer.useSecureConnections=!0,e&&(this.client.multiplayer.developmentServer=e)}createRoom(t,e,s=!0,n=null){return new Promise((a,r)=>this.client.multiplayer.createRoom(t,e,s,n,a,r))}createJoinRoom(t,e,s=!0,n=null,a=null){return this.cm.connect(()=>new Promise((r,i)=>this.client.multiplayer.createJoinRoom(t,e,s,n,a,e=>r(new v(e,t)),i)))}joinRoom(t,e=null){return this.cm.connect(()=>new Promise((s,n)=>this.client.multiplayer.joinRoom(t,e,e=>s(new v(e,t)),n)))}listRooms(t,e={},s=0,n=0){return new Promise((a,r)=>this.client.multiplayer.listRooms(t,e,s,n,a,r))}async disconnect(){}}class Y{gameId;defaultConnectionID;cm=new w;constructor(t,e="public"){this.gameId=t,this.defaultConnectionID=e,PlayerIO.useSecureApiRequests=!0}async connect(t=this.defaultConnectionID,e={userId:"guest"},s={}){let n=()=>new Promise((n,a)=>PlayerIO.authenticate(this.gameId,t,e,s,t=>n(new y(t)),a));return await this.cm.connect(n,void 0)}cancel(){this.cm.cancel()}}var J=s(101),C=n.vUu("<div></div>"),j=n.vUu('<th scope="col"> </th>'),k=(t,e,s,a)=>e(async t=>t.joinRoom(n.JtY(s).id,a())),L=n.vUu("<td> </td>"),N=n.vUu('<tr><td><button class="btn btn-outline-primary btn-small">Join</button></td><!></tr>'),x=n.vUu('<tr><td class="text-center">No rooms</td></tr>'),B=n.vUu('<table class="table table-sm"><tbody><tr><th scope="col">Action</th><!></tr><!></tbody></table>');function I(t,e){n.VCO(e,!0);let s=n._w2(e,"joinData",3,null),v=n._w2(e,"columns",19,()=>[["Players",t=>(function(t){let e=t.onlineUsers,s=+t.roomData.activeCount||0,n=e-s;return n?`${s}+${n}`:e+""})(t)],["ID",t=>t.id.slice(0,8)+"…",t=>t.id],["Game Mode",t=>e.formatGameMode(t.roomData)]]),w=new Y(e.gameId),y=e.roomCreateOptions.map(t=>[t,(0,J.C)(`game/mp/_roomCreate/${e.roomType}/${t[0]}`,t[2])]),I=n.wk1(n.BXG([])),R=n.wk1(!1),_=n.wk1(!1);async function U(){n.hZp(R,!0);try{let t=await T();n.hZp(I,await t.listRooms(e.roomType),!0)}catch(t){console.log(t),alert(t)}finally{n.hZp(R,!1)}}async function S(t){try{let s=await T(),n=await t(s);return U(),e.onJoinedRoom(new b(n)),n}catch(t){console.log(t),alert(t);return}}function T(){let t=w.connect();return n.hZp(_,!0),t}U();{let b=n.unG(()=>!n.JtY(_)),w=n.unG(()=>y.length>8);!function(t,e){let s,a,r;n.VCO(e,!0);let i=n._w2(e,"disableNew",3,!1),o=n._w2(e,"showNewRoomFooter",3,!1),c=n._w2(e,"refreshTimeoutBase",3,15e3),l=n._w2(e,"refreshTimeoutJitter",3,15e3),u=n.wk1(!1),v=n.wk1(0),b=n.wk1(1);function w(){clearTimeout(s);let t=c()+Math.random()*l();n.hZp(v,Date.now(),!0),n.hZp(b,Date.now()+t),s=setTimeout(()=>{e.onRefresh(),w()},t)}w(),(0,d.sA)(()=>clearTimeout(s));var y=f(),Y=n.esp(y),J=n.jfp(Y),C=n.jfp(J),j=n.jfp(C);n.cLc(C);var k=n.hg4(C,2),L=n.jfp(k);L.__click=[p,w,e];var N=n.jfp(L);n.K2T(),n.cLc(L);var x=n.hg4(L,2);x.__click=[m,u];var B=n.jfp(x,!0);n.cLc(x);var I=n.hg4(x,2);n.cLc(k),n.cLc(J);var R=n.hg4(J,2),_=n.jfp(R);(0,h.A)(_,{get startTime(){return n.JtY(v)},get endTime(){return n.JtY(b)},active:!0});var U=n.hg4(_,2);n.UAl(U,()=>e.children),n.cLc(R),n.cLc(Y);var S=n.hg4(Y,2),T=n.jfp(S),G=n.jfp(T),A=n.jfp(G),E=n.hg4(n.jfp(A),2),M=n.jfp(E);M.__click=function(...t){e.onResetRoomOptions?.apply(this,t)},n.hg4(M,2).__click=function(...t){e.onNewRoom?.apply(this,t)},n.K2T(2),n.cLc(E),n.cLc(A);var P=n.hg4(A,2),O=n.jfp(P);n.UAl(O,()=>e.newRoom),n.cLc(P);var q=n.hg4(P,2),$=t=>{var s=g(),a=n.jfp(s);a.__click=function(...t){e.onResetRoomOptions?.apply(this,t)},n.hg4(a,4).__click=function(...t){e.onNewRoom?.apply(this,t)},n.cLc(s),n.BCw(t,s)};n.if(q,t=>{o()&&t($)}),n.cLc(G),n.cLc(T),n.cLc(S),n.vNg((t,s)=>{n.jax(j,`Rooms (showing ${e.rooms.length??""}/${e.rooms.length??""})`),a=n.ysU(N,1,"spinner-border spinner-border-sm",null,a,t),n.ysU(x,1,`btn btn-sm btn-${n.JtY(u)?"secondary":"warning"}`),n.jax(B,n.JtY(u)?"Show":"Hide"),I.disabled=i(),r=n.ysU(R,1,"card-body",null,r,s)},[()=>({"d-none":!e.isRefreshing}),()=>({"d-none":n.JtY(u)})]),n.BCw(t,y),n.uYY()}(t,{get isRefreshing(){return n.JtY(R)},get rooms(){return n.JtY(I)},get disableNew(){return n.JtY(b)},get showNewRoomFooter(){return n.JtY(w)},onRefresh:U,onResetRoomOptions:function(){y.forEach(t=>t[1].value=t[0][2])},onNewRoom:()=>S(async t=>t.createJoinRoom(function(t){let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s="";for(;t--;)s+=e[Math.random()*e.length|0];return s}(50),e.roomType,!0,y.length?Object.fromEntries(y.map(([t,e])=>[t[0],e.value])):null,s())),newRoom:t=>{var e=C();n.__1(e,21,()=>y,n.Pe0,(t,e)=>{!function(t,e){let s=n.unG(()=>n._Nj(e.optionStore,2)),h=n.unG(()=>n.JtY(s)[0]),d=n.unG(()=>n.JtY(s)[1]);var p=n.Imx(),m=n.esp(p),g=t=>{!function(t,e){let s;n.VCO(e,!0);let i=n._w2(e,"store",7),o=n.unG(()=>n._Nj(e.option,5)),c=(n.unG(()=>n.JtY(o)[0]),n.unG(()=>n.JtY(o)[1]),n.unG(()=>n.JtY(o)[2])),l=n.unG(()=>n.JtY(o)[3]),u=n.unG(()=>n.JtY(o)[4]),h=n.unG(()=>i().value!==n.JtY(c));var d=r(),p=n.jfp(d),m=n.jfp(p),g=n.jfp(m,!0),f=n.hg4(g),v=t=>{var e=a();n.BCw(t,e)};n.if(f,t=>{n.JtY(h)&&t(v)}),n.cLc(m);var b=n.hg4(m,2),w=n.jfp(b);n.R0j(w);var y=n.hg4(w,2),Y=n.jfp(y,!0);n.cLc(y),n.cLc(b),n.cLc(p),n.cLc(d),n.vNg(t=>{n.jax(g,n.JtY(l)),s=n.ysU(w,1,"form-check-input",null,s,t),n.jax(Y,n.JtY(u))},[()=>({"bg-info":n.JtY(h)})]),n.mST(w,()=>i().value,t=>i().value=t),n.BCw(t,d),n.uYY()}(t,{get option(){return n.JtY(h)},get store(){return n.JtY(d)}})},f=t=>{var e=n.Imx(),s=n.esp(e),a=t=>{!function(t,e){n.VCO(e,!0);let s=n._w2(e,"store",7),a=n.unG(()=>n._Nj(e.option,8)),r=(n.unG(()=>n.JtY(a)[0]),n.unG(()=>n.JtY(a)[1]),n.unG(()=>n.JtY(a)[2])),i=n.unG(()=>n.JtY(a)[3]),o=n.unG(()=>n.JtY(a)[4]),c=n.unG(()=>n.JtY(a)[5]),h=n.unG(()=>n.JtY(a)[6]),d=n.unG(()=>n.JtY(a)[7]),p=n.unG(()=>s().value!==n.JtY(r));var m=u(),g=n.jfp(m),f=n.jfp(g),v=n.jfp(f),b=n.hg4(v),w=n.jfp(b),y=n.hg4(w),Y=t=>{var e=n.Qq7();n.vNg(()=>n.jax(e,`, default ${n.JtY(r)??""}`)),n.BCw(t,e)};n.if(y,t=>{n.JtY(p)&&t(Y)}),n.K2T(),n.cLc(b);var J=n.hg4(b),C=t=>{var e=l();n.BCw(t,e)};n.if(J,t=>{n.JtY(p)&&t(C)}),n.cLc(f);var j=n.hg4(f,2),k=n.jfp(j,!0);n.cLc(j);var L=n.hg4(j,2);n.R0j(L),n.p_Y(L,()=>({type:"number",class:"form-control",min:n.JtY(c),max:n.JtY(h),...n.JtY(d)}));var N=n.hg4(L,2);n.R0j(N),n.p_Y(N,()=>({type:"range",class:"form-range",min:n.JtY(c),max:n.JtY(h),...n.JtY(d)})),n.cLc(g),n.cLc(m),n.vNg(()=>{n.jax(v,`${n.JtY(i)??""} `),n.jax(w,`[${n.JtY(c)??""} to ${n.JtY(h)??""}`),n.jax(k,n.JtY(o))}),n.oJB(L,()=>s().value,t=>s().value=t),n.oJB(N,()=>s().value,t=>s().value=t),n.BCw(t,m),n.uYY()}(t,{get option(){return n.JtY(h)},get store(){return n.JtY(d)}})},r=t=>{var e=n.Imx(),s=n.esp(e),a=t=>{!function(t,e){n.VCO(e,!0);let s=[],a=n._w2(e,"store",7),r=n.unG(()=>n._Nj(e.option,6)),l=(n.unG(()=>n.JtY(r)[0]),n.unG(()=>n.JtY(r)[1]),n.unG(()=>n.JtY(r)[2])),u=n.unG(()=>n.JtY(r)[3]),h=n.unG(()=>n.JtY(r)[4]),d=n.unG(()=>n.JtY(r)[5]),p=n.unG(()=>a().value!==n.JtY(l));var m=c(),g=n.jfp(m),f=n.jfp(g,!0),v=n.hg4(f),b=t=>{var e=i();n.BCw(t,e)};n.if(v,t=>{n.JtY(p)&&t(b)}),n.cLc(g);var w=n.hg4(g,2),y=n.jfp(w),Y=n.jfp(y,!0);n.cLc(y),n.cLc(w);var J=n.hg4(w,2);n.__1(J,17,()=>n.JtY(d),n.Pe0,(t,e,r)=>{let i;var c=o(),u=n.jfp(c);n.R0j(u),u.value=u.__value=r;var h=n.hg4(u,2),d=n.jfp(h,!0);n.cLc(h),n.cLc(c),n.vNg(t=>{i=n.ysU(u,1,"form-check-input",null,i,t),n.jax(d,n.JtY(e))},[()=>({"bg-info":n.JtY(p)&&r===n.JtY(l)})]),n.CJk(s,[],u,()=>a().value,t=>a().value=t),n.BCw(t,c)}),n.cLc(m),n.vNg(()=>{n.jax(f,n.JtY(u)),n.jax(Y,n.JtY(h))}),n.BCw(t,m),n.uYY()}(t,{get option(){return n.JtY(h)},get store(){return n.JtY(d)}})},r=t=>{var e=n.Qq7();n.vNg(()=>n.jax(e,`unknown option type ${n.JtY(h)[1]??""} (${n.JtY(h)??""})`)),n.BCw(t,e)};n.if(s,t=>{"e"===n.JtY(h)[1]?t(a):t(r,!1)},!0),n.BCw(t,e)};n.if(s,t=>{"i"===n.JtY(h)[1]||"I"===n.JtY(h)[1]?t(a):t(r,!1)},!0),n.BCw(t,e)};n.if(m,t=>{"b"===n.JtY(h)[1]?t(g):t(f,!1)}),n.BCw(t,p)}(t,{get optionStore(){return n.JtY(e)}})}),n.cLc(e),n.BCw(t,e)},children:(t,a)=>{var r=B(),i=n.jfp(r),o=n.jfp(i),c=n.hg4(n.jfp(o));n.__1(c,17,v,n.Pe0,(t,e)=>{var s=j(),a=n.jfp(s,!0);n.cLc(s),n.vNg(()=>n.jax(a,n.JtY(e)[0])),n.BCw(t,s)}),n.cLc(o);var l=n.hg4(o);n.__1(l,17,()=>n.JtY(I),n.Pe0,(t,a)=>{let r;var i=N(),o=n.jfp(i);n.jfp(o).__click=[k,S,a,s],n.cLc(o);var c=n.hg4(o);n.__1(c,17,v,n.Pe0,(t,e)=>{var s=L(),r=n.jfp(s,!0);n.cLc(s),n.vNg((t,e)=>{n.aIK(s,"title",t),n.jax(r,e)},[()=>n.JtY(e)[2]?n.JtY(e)[2](n.JtY(a)):"",()=>n.JtY(e)[1](n.JtY(a))]),n.BCw(t,s)}),n.cLc(i),n.vNg(t=>r=n.ysU(i,1,"",null,r,t),[()=>({"table-info":n.JtY(a).id==e.gameRoom?.id})]),n.BCw(t,i)},t=>{var e=x(),s=n.jfp(e);n.cLc(e),n.vNg(()=>n.aIK(s,"colspan",1+v().length)),n.BCw(t,e)}),n.cLc(i),n.cLc(r),n.BCw(t,r)},$$slots:{newRoom:!0,default:!0}})}return n.uYY({refreshRooms:U})}n.MmH(["click"])},121:function(t,e,s){s.d(e,{A:()=>m}),s(1);var n=s(2),a=(t,e)=>e.onReady(),r=n.vUu('<button class="btn btn-sm btn-success">Unready</button>'),i=(t,e)=>e.onReady(),o=n.vUu('<button class="btn btn-sm btn-info">Ready</button>'),c=(t,e)=>e.onActive(),l=n.vUu('<!> <button class="btn btn-sm btn-secondary">Spectate</button>',1),u=(t,e)=>e.onActive(),h=n.vUu('<button class="btn btn-sm btn-primary">Unspectate</button>'),d=n.vUu('<div class="float-end"><!> <div class="btn-group"><button class="btn btn-sm btn-warning">Reset Score</button> <button class="btn btn-sm btn-danger">Disconnect</button></div></div>'),p=n.vUu('<div role="alert"><h4 class="alert-heading">Disconnected</h4> Join or create a room above!</div> <div role="alert"><h4 class="alert-heading">Spectating</h4> <span class="badge text-bg-primary">Unspectate</span> if you want to play!</div> <div role="alert"><h4 class="alert-heading">Unready</h4> If all players are <span class="badge text-bg-info">Ready</span>, the intermission ends early.</div> <div class="card mb-3"><div class="card-header"><h4 class="float-start">Play</h4> <!></div> <div class="card-body"><!></div></div>',1);function m(t,e){let s,m,g;n.VCO(e,!0);let f=n._w2(e,"inGame",3,!1),v=n._w2(e,"isActive",3,!1),b=n._w2(e,"canReady",3,!1),w=n._w2(e,"isReady",3,!1);var y=p(),Y=n.esp(y),J=n.hg4(Y,2),C=n.hg4(J,2),j=n.hg4(C,2),k=n.jfp(j),L=n.hg4(n.jfp(k),2),N=t=>{var s=d(),p=n.jfp(s),m=t=>{var s=l(),u=n.esp(s),h=t=>{var s=n.Imx(),c=n.esp(s),l=t=>{var s=r();s.__click=[a,e],n.BCw(t,s)},u=t=>{var s=o();s.__click=[i,e],n.BCw(t,s)};n.if(c,t=>{w()?t(l):t(u,!1)}),n.BCw(t,s)};n.if(u,t=>{b()&&t(h)}),n.hg4(u,2).__click=[c,e],n.BCw(t,s)},g=t=>{var s=h();s.__click=[u,e],n.BCw(t,s)};n.if(p,t=>{v()?t(m):t(g,!1)});var f=n.hg4(p,2),y=n.jfp(f);y.__click=function(...t){e.onReset?.apply(this,t)},n.hg4(y,2).__click=function(...t){e.onDisconnect?.apply(this,t)},n.cLc(f),n.cLc(s),n.BCw(t,s)};n.if(L,t=>{f()&&t(N)}),n.cLc(k);var x=n.hg4(k,2),B=n.jfp(x);n.UAl(B,()=>e.children),n.cLc(x),n.cLc(j),n.vNg((t,e,a)=>{s=n.ysU(Y,1,"alert alert-danger",null,s,t),m=n.ysU(J,1,"alert alert-warning",null,m,e),g=n.ysU(C,1,"alert alert-info",null,g,a)},[()=>({"d-none":f()}),()=>({"d-none":!f()||v()}),()=>({"d-none":!f()||!v()||!b()||w()})]),n.BCw(t,y),n.uYY()}n.MmH(["click"])},124:function(t,e,s){s.d(e,{A:()=>i}),s(1);var n=s(2),a=s(5),r=n.vUu('<div class="progress mb-2"><div> </div></div>');function i(t,e){n.VCO(e,!0);let s=n._w2(e,"start",3,0),i=n._w2(e,"end",3,1),o=n.wk1(0),c=n.wk1("0.0 s");(0,a.Rc)(()=>{let t;return!function a(){if(t=requestAnimationFrame(a),e.active){let t=Date.now();n.hZp(o,s()+(i()-s())*Math.min(1,(t-e.startTime)/(e.endTime-e.startTime))),n.hZp(c,Math.max((e.endTime-t)/1e3,0).toFixed(1)+" s")}}(),()=>cancelAnimationFrame(t)});var l=r(),u=n.jfp(l),h=n.jfp(u,!0);n.cLc(u),n.cLc(l),n.vNg(()=>{n.ysU(u,1,`progress-bar${e.active?" progress-bar-striped progress-bar-animated":""}`),n.hgi(u,`transition: none; width:${100*n.JtY(o)}%`),n.jax(h,n.JtY(c))}),n.BCw(t,l),n.uYY()}},131:function(t,e,s){s.d(e,{A:()=>i}),s(1);var n=s(2),a=n.vUu("<span> </span>"),r=n.vUu("<div>In game: <!></div> <div>Queue: <!></div>",1);function i(t,e){let s=(t,s=n.lQ1,r=n.lQ1)=>{var i=a(),o=n.jfp(i);n.cLc(i),n.vNg(()=>{n.ysU(i,1,`badge text-bg${s()==e.localClient?"":"-outline"}-${r()??""} me-1`),n.jax(o,`${s().name??""} (${s().cn??""})`)}),n.BCw(t,i)};var i=r(),o=n.esp(i),c=n.hg4(n.jfp(o));n.__1(c,17,()=>e.inGame,n.Pe0,(t,e)=>{s(t,()=>n.JtY(e),()=>n.JtY(e).ready?"info":"primary")},t=>{n.K2T();var e=n.Qq7("nobody");n.BCw(t,e)}),n.cLc(o);var l=n.hg4(o,2),u=n.hg4(n.jfp(l));n.__1(u,17,()=>e.inQueue,n.Pe0,(t,e)=>{s(t,()=>n.JtY(e),()=>n.JtY(e).ready?"info":"secondary")},t=>{n.K2T();var e=n.Qq7("nobody");n.BCw(t,e)}),n.cLc(l),n.BCw(t,i)}},122:function(t,e,s){function n(t){return Object.fromEntries(t.map(t=>{let[e,s,n]=t;return[e,"I"==s?BigInt(n):n]}))}function a(t,e){return Object.fromEntries(t.map(t=>{let[s,n]=t;switch(n){case"b":return[s,"true"===e[s]];case"I":return[s,BigInt(e[s])];case"e":case"i":return[s,+e[s]]}}))}s.d(e,{e:()=>a,q:()=>n})},128:function(t,e,s){s.d(e,{k:()=>n});class n{buf;v;pos=0;constructor(t){this.buf=t,this.v=new DataView(t.buffer,t.byteOffset,t.byteLength)}get debugBuf(){return this.v}get remaining(){return this.v.byteLength-this.pos}get(){return this.v.getUint8(this.pos++)}getCN(){let t=this.get();return 128&t?-1:63&t}getInt(){let t=this.v.getInt8(this.pos++);return -128===t?this.v.getInt16((this.pos+=2)-2,!0):-127===t?this.v.getInt32((this.pos+=4)-4,!0):t}getBool(){return!!this.get()}getFloat64(){return this.v.getFloat64((this.pos+=8)-8)}static UINT64_BIAS=[567382630219904n,4432676798592n,34630287488n,270549120n,2113664n,16512n,128n];getUint64(){let t=this.get();if(t<128)return BigInt(t);if(255==t)return this.v.getBigUint64((this.pos+=8)-8);let e=31-Math.clz32(255^t),s=7-e,a=new Uint8Array(8);return a[e]=t&255>>s,a.set(this.buf.subarray(this.pos,this.pos+=s),e+1),new DataView(a.buffer).getBigUint64(0)+n.UINT64_BIAS[e]}getInt64(){let t=this.getUint64();return t>>1n^-(1n&t)}getString(t){let e=[];for(;e.length<=t;){let s=this.get();if(!s)break;if(e.length===t)throw Error("too long");e.push(s>127?63:s)}return String.fromCharCode(...e)}}},130:function(t,e,s){s.d(e,{U:()=>n});class n{buf=[];put(...t){return this.buf.push(...t),this}putInt(t){return t>-127&&t<128?this.put(t):t>=-32768&&t<32768?this.put(128,t,t>>8):this.put(129,t,t>>8,t>>16,t>>24),this}putBool(t){return this.put(+!!t)}putFloat64(t){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,t),this.put(...e)}putUint64(t){let e;if(t<0)throw Error("bad Uint64");if(t<128n)return this.put(Number(t));t<0x810204080?t<2113664?t<16512?(e=6,t-=128n):(e=5,t-=16512n):t<0x10204080?(e=4,t-=2113664n):(e=3,t-=270549120n):t<0x2040810204080?t<0x40810204080?(e=2,t-=34630287488n):(e=1,t-=4432676798592n):(e=0,t<0x102040810204080n?t=t-567382630219904n|0xfe00000000000000n:this.put(255));let s=new Uint8Array(8);return new DataView(s.buffer).setBigUint64(0,t),e&&(s[e]|=254<<e),this.put(...s.subarray(e))}putInt64(t){return this.putUint64(t<<1n^t>>63n)}putString(t){for(let e=0;e<t.length;e++){let s=t.charCodeAt(e),n=s>127?63:s;if(!n)break;this.put(n)}return this.put(0)}putFmt(t,...e){for(let s=0,n=0;s<t.length;s++){let a=t[s],r=t[s+1]>="0"&&t[s+1]<="9"?+t[++s]:1;switch(a){case"s":for(;r--;)this.putString(e[n++]);break;case"i":for(;r--;)this.putInt(e[n++]);break;case"b":for(;r--;)this.putBool(e[n++]);break;case"U":for(;r--;)this.putUint64(e[n++]);break;case"d":for(;r--;)this.putFloat64(e[n++])}}return this}toArray(){return Uint8Array.from(this.buf)}}},95:function(t,e,s){s.d(e,{A:()=>a});var n=s(5);function a(t){let e=document.getElementById("app");(0,n.Or)(t,{target:e}),document.getElementById("appLoading")?.remove()}}}]);